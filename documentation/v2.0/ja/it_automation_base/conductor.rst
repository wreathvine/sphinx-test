.. image:: ./conductor/image1.png
   :width: 8.24645in
   :height: 11.7091in

.. image:: ./conductor/image2.png
   :alt: \\\\abkfs04.nsl.ad.nec.co.jp\\a06006-01\\30_Exastro_IT-Automation\\3_全社展開チーム(サ事開本)\\FY2019_1-上期\\81_Exastro正式素材集(ロゴ等)\\PNG\\Exastro_mark+type_1.png
   :width: 3.35079in
   :height: 0.78565in

ITA_利用手順マニュアル

Conductor

*－*\ 第1.10版\ *－*

Copyright © NEC Corporation 2020. All rights reserved.

免責事項

本書の内容はすべて日本電気株式会社が所有する著作権に保護されています。

本書の内容の一部または全部を無断で転載および複写することは禁止されています。

本書の内容は将来予告なしに変更することがあります。

日本電気株式会社は、本書の技術的もしくは編集上の間違い、欠落について、一切責任を負いません。

日本電気株式会社は、本書の内容に関し、その正確性、有用性、確実性その他いかなる保証もいたしません。

商標

-  LinuxはLinus
      Torvalds氏の米国およびその他の国における登録商標または商標です。

-  Red Hatは、Red Hat,
      Inc.の米国およびその他の国における登録商標または商標です。

-  Apache、Apache Tomcat、Tomcatは、Apache Software
      Foundationの登録商標または商標です。

-  Ansibleは、Red Hat, Inc.の登録商標または商標です。

-  AnsibleTowerは、Red Hat, Inc.の登録商標または商標です。

-  Terraformは、HashiCorpの登録商標または商標です。

その他、本書に記載のシステム名、会社名、製品名は、各社の登録商標もしくは商標です。

なお、® マーク、TMマークは本書に明記しておりません。

※本書では「Exastro IT Automation」を「ITA」として記載します。

**目次**

`はじめに <#はじめに>`__ `4 <#はじめに>`__

`1 ITA Conductorの概要 <#ita-conductorの概要>`__
`5 <#ita-conductorの概要>`__

`2 ITA
Conductorのメニュー、画面構成 <#ita-conductorのメニュー画面構成>`__
`6 <#ita-conductorのメニュー画面構成>`__

`2.1 ITA Conductorメニュー 一覧 <#_Toc97543139>`__ `6 <#_Toc97543139>`__

`3 ITA Conductor利用手順 <#ita-conductor利用手順>`__
`7 <#ita-conductor利用手順>`__

`3.1 作業フロー <#作業フロー>`__ `7 <#作業フロー>`__

`4 機能・操作方法説明 <#機能操作方法説明>`__ `9 <#機能操作方法説明>`__

`4.1 ITA Conductor <#ita-conductor>`__ `9 <#ita-conductor>`__

`4.1.1 Conductorインターフェース情報 <#conductorインターフェース情報>`__
`10 <#conductorインターフェース情報>`__

`4.1.2 Conductor通知先定義 <#conductor通知先定義>`__
`11 <#conductor通知先定義>`__

`4.1.3 Conductorクラス一覧 <#conductorクラス一覧>`__
`13 <#conductorクラス一覧>`__

`4.1.4 Conductorクラス編集 <#conductorクラス編集>`__
`14 <#conductorクラス編集>`__

`4.1.5 Conductor作業実行 <#conductor作業実行>`__
`30 <#conductor作業実行>`__

`4.1.6 Conductor作業確認 <#conductor作業確認>`__
`33 <#conductor作業確認>`__

`4.1.7 Conductor作業一覧 <#conductor作業一覧>`__
`39 <#conductor作業一覧>`__

`4.1.8 Conductor定期作業実行 <#conductor定期作業実行>`__
`43 <#conductor定期作業実行>`__

`5 付録 <#付録>`__ `49 <#付録>`__

`5.1 Conductor通知先定義 <#conductor通知先定義-1>`__
`49 <#conductor通知先定義-1>`__

`5.1.1 Conductor通知先定義設定例 <#conductor通知先定義設定例>`__
`50 <#conductor通知先定義設定例>`__

`5.1.2 通知ログ出力例 <#通知ログ出力例>`__ `53 <#通知ログ出力例>`__

はじめに
========

本書は、ITAのConductorの機能および操作方法について説明します。

ITA Conductorの概要
===================

| 本章ではConductorメニューの機能、操作方法について説明します。
| Conductorでは、ITAを利用して作業を行う上で共通に必要となる以下の機能を提供します。

ITA Conductorのメニュー、画面構成
=================================

本章では、ITA Conductorのメニュー、画面構成について説明します

1. 

ITA Conductorメニュー 一覧
--------------------------

   ITA共通/Conductorのメニューを以下に示します。

**表 2.1-1 ITA　Conductor画面一覧**

+---+-------+------------------+---------------------------------------+
| * | **メ  | **メニュー**     | **説明**                              |
| * | ニュ  |                  |                                       |
| N | ー**  |                  |                                       |
| o |       |                  |                                       |
| * | **グ  |                  |                                       |
| * | ルー  |                  |                                       |
|   | プ**  |                  |                                       |
+===+=======+==================+=======================================+
| 1 | Cond  | Conductorイン    | Conductor作業実行時のMovemen          |
|   | uctor | ターフェース情報 | tで共有するディレクトリパスなどをメン |
|   |       |                  | テナンス(閲覧/登録/更新/廃止)できます |
+---+-------+------------------+---------------------------------------+
| 2 |       | Con              | Conductorク                           |
|   |       | ductorクラス一覧 | ラスをメンテナンス(閲覧/廃止)できます |
|   |       |                  |                                       |
|   |       |                  | 「詳細」をクリックするとCo            |
|   |       |                  | nductorクラス編集メニューに遷移します |
+---+-------+------------------+---------------------------------------+
| 3 |       | Con              | Conductorクラスを編集できます         |
|   |       | ductorクラス編集 |                                       |
+---+-------+------------------+---------------------------------------+
| 4 |       | C                | Conductor作業を実行できます           |
|   |       | onductor作業実行 |                                       |
+---+-------+------------------+---------------------------------------+
| 5 |       | C                | Conductor作業の実行結果を確認できます |
|   |       | onductor作業確認 |                                       |
+---+-------+------------------+---------------------------------------+
| 6 |       | C                | Conductor一覧(実行履歴)を閲覧できます |
|   |       | onductor作業一覧 |                                       |
|   |       |                  | 「詳細」をクリッ                      |
|   |       |                  | クするとConductor作業確認に遷移します |
+---+-------+------------------+---------------------------------------+
| 7 |       | Condu            | スケジュールに従って定期的            |
|   |       | ctor定期作業実行 | に実行するConductor作業を管理します。 |
+---+-------+------------------+---------------------------------------+

ITA Conductor利用手順
=====================

作業フロー
----------

ITA Conductorにおける標準的な作業フローは以下のとおりです。

各作業の詳細は次項に記載しています。

-  「機器情報」、「オペレーション」の登録方法については、「利用手順マニュアル　基本コンソール」を参照してください。

-  Movementの登録方法については、各Driverの利用手順マニュアルを参照してください。

-  Conductor実行時の各 Movement
   で共有するディレクトリパスが利用可能です。

Movement間で情報伝達する必要がある場合、共有するディレクトリパスを利用する事で情報の受け渡しが可能となります。

共有対象については、「Ansible driver」と「Terraform
driver」を対象としています。

「Ansible driver」に関する詳細は、別紙、「利用手順マニュアル
Ansible-driver」を参照してください。

「Terraform driver」に関する詳細は、別紙、「利用手順マニュアル
Terraform-driver」を参照してください。

-  「Conductor call」,「Symphony call」
   で実行した作業フローについては、それぞれ個別に共有ディレクトリパスを持ちます。（作業フローを跨いでいるMovemetについては、共有の対象外となります。）

**図 3.1-1 作業フロー**

機能・操作方法説明
==================

ITA Conductor
-------------

Conductorインターフェース情報
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

(1) 「Conductorインターフェース情報」メニューでは、Conductorから実行される各Movementで共有するディレクトリのパスと「Conductor作業確認」メニューのリフレッシュ間隔を設定します。

..

   .. image:: ./conductor/image3.png
      :width: 5.3738in
      :height: 2.56689in

図 4.1- 1「Conductorインターフェース情報」メニュー

(2) 「Conductorインターフェース情報」メニュー >
    「一覧」サブメニューの詳細は以下のとおりです。

表 4.1- 1「一覧」サブメニュー

+-----------+--------------------------------+----+------+-------------+
| **項目**  | **説明**                       | ** | **入 | *           |
|           |                                | 入 | 力形 | *制約事項** |
|           |                                | 力 | 式** |             |
|           |                                | ** |      |             |
|           |                                |    |      |             |
|           |                                | ** |      |             |
|           |                                | 必 |      |             |
|           |                                | 須 |      |             |
|           |                                | ** |      |             |
+===========+================================+====+======+=============+
| デ        | Conductor実                    | ○  | 手動 | 最大        |
| ータリレ  | 行時、各Movementで共有するディ |    | 入力 | 長128バイト |
| イストレ  | レクトリを、ITAサーバから見た  |    |      |             |
| ージパス  | ディレクトリパスで入力します。 |    |      |             |
|           |                                |    |      |             |
|           | Ansible、Ansible-Towerサーバ   |    |      |             |
|           | から見たパスは、Ansible-Driver |    |      |             |
|           | の利用手順マニュアルのインター |    |      |             |
|           | フェース情報を参照して下さい。 |    |      |             |
|           |                                |    |      |             |
|           | Terraformとの連携              |    |      |             |
|           | は共有ディレクトリをせずにREST |    |      |             |
|           | APIで情報を取得するため、      |    |      |             |
|           | Terraform-Driverではこのディレ |    |      |             |
|           | クトリパスが直接使用されます。 |    |      |             |
+-----------+--------------------------------+----+------+-------------+
| 状        | 「\ *4.1.5*                    | ○  | 手動 | 最小値 1000 |
| 態監視周  | Condu                          |    | 入力 | ミリ秒      |
| 期（単位  | ctor作業実行」の表示をリフレッ |    |      |             |
| ミリ秒）  | シュする間隔を入力します。通常 |    |      |             |
|           | は3000ミリ秒程度が推奨値です。 |    |      |             |
+-----------+--------------------------------+----+------+-------------+
| 備考      | 自由記述欄です                 | -  | 手動 | -           |
|           |                                |    | 入力 |             |
+-----------+--------------------------------+----+------+-------------+

Conductor通知先定義
~~~~~~~~~~~~~~~~~~~

「Conductor通知先定義」メニューでは、Conductorで作業時に実行される通知に関する定義を設定します。通知はWebhookを利用して行います。

登録したConductor通知先定義は、「Conductorクラス編集」の「Notice」にて、Conductor実行中に、通知を行うステータスに対して設定を行います。

   .. image:: ./conductor/image4.png
      :width: 5.36046in
      :height: 3.16694in

図 4.1- 2「Conductor通知先定義」メニュー

(3) 「Conductor通知先定義」メニュー >
    「一覧」サブメニューの詳細は以下のとおりです。

表 4.1- 2「一覧」サブメニュー

+--------------------+---------------------------+----+------+--------+
| **項目**           | **説明**                  | ** | **入 | **制約 |
|                    |                           | 入 | 力形 | 事項** |
|                    |                           | 力 | 式** |        |
|                    |                           | ** |      |        |
|                    |                           |    |      |        |
|                    |                           | ** |      |        |
|                    |                           | 必 |      |        |
|                    |                           | 須 |      |        |
|                    |                           | ** |      |        |
+====================+===========================+====+======+========+
| 通知名称           | 通知                      | ○  | 手動 |        |
|                    | 名称を入力してください。  |    | 入力 |        |
+--------------------+---------------------------+----+------+--------+
| 通                 | 通知先                    | ○  | 手動 |        |
| 知先(CURLOPT_URL)  | のURLを入力してください。 |    | 入力 |        |
+--------------------+---------------------------+----+------+--------+
| ヘッダー(C         | HTTP                      | ○  | 手動 |        |
| URLOPT_HTTPHEADER) | ヘッダフィールドをJSO     |    | 入力 |        |
|                    | N形式で入力してください。 |    |      |        |
+--------------------+---------------------------+----+------+--------+
| メッセージ(C       | メッセージ内容を          | ○  | 手動 | ※      |
| URLOPT_POSTFIELDS) | 通知先のサービスの仕様に  |    | 入力 |        |
|                    | 沿って入力してください。  |    |      |        |
+--------------------+---------------------------+----+------+--------+
| PROXY / URL        | PROXYの設定が必要な場合   |    | 手動 |        |
| (CURLOPT_PROXY)    | 、URLを入力してください。 |    | 入力 |        |
+--------------------+---------------------------+----+------+--------+
| PROXY / PORT       | PROXYの設定が必要な場合、 |    | 手動 |        |
| (                  | PORTを入力してください。  |    | 入力 |        |
| CURLOPT_PROXYPORT) |                           |    |      |        |
+--------------------+---------------------------+----+------+--------+
| 作業確認URL(FQDN)  | 作業確認                  |    | 手動 |        |
|                    | 用URLの予約変数で使用する |    | 入力 |        |
|                    | ,FQDNを入力してください。 |    |      |        |
+--------------------+---------------------------+----+------+--------+
| その他             | JSO                       |    | 手動 |        |
|                    | N形式で入力してください。 |    | 入力 |        |
|                    | 使用できるオプション      |    |      |        |
|                    | については、curl_setopt() |    |      |        |
|                    | の                        |    |      |        |
|                    | オプションに対応するもの  |    |      |        |
|                    | は使用可能です。PHPのcURL |    |      |        |
|                    | 関数に                    |    |      |        |
|                    | ついて参照してください。  |    |      |        |
+--------------------+---------------------------+----+------+--------+
| 開始日時           | 通知を抑止したい          |    | 手動 |        |
|                    | 場合、入力してください。  |    | 入力 |        |
+--------------------+---------------------------+----+------+--------+
| 終了日時           | 通知を抑止したい          |    | 手動 |        |
|                    | 場合、入力してください。  |    | 入力 |        |
+--------------------+---------------------------+----+------+--------+
| 備考               | 自由記述欄です            |    |      |        |
+--------------------+---------------------------+----+------+--------+

※ メッセージ内容で利用可能なITA独自変数は、以下の表参照してください。

Teams、Slackの入力例について、「5.1.1Conductor通知先定義設定例」を参照ください。

表 4.1- 3 Conductor通知先定義ITA独自変数

+-------------------------+--------------------------------+-----------+
| **ITA独自変数**         | **変数指定内容**               | **備考**  |
+=========================+================================+===========+
| \__C                    | ConductorインスタンスID　      |           |
| ONDUCTOR_INSTANCE_ID_\_ |                                |           |
+-------------------------+--------------------------------+-----------+
| \__CONDUCTOR_NAME_\_    | Conductorインスタンス名　      |           |
+-------------------------+--------------------------------+-----------+
| \__OPERATION_ID_\_      | オペレーションID　             |           |
+-------------------------+--------------------------------+-----------+
| \__OPERATION_NAME_\_    | オペレーション名　             |           |
+-------------------------+--------------------------------+-----------+
| \__STATUS_ID_\_         | ステータスID　                 |           |
+-------------------------+--------------------------------+-----------+
| \__STATUS_NAME_\_       | ステータス名　                 |           |
+-------------------------+--------------------------------+-----------+
| \__EXECUTION_USER_\_    | 実行ユーザー　                 |           |
+-------------------------+--------------------------------+-----------+
| \__TIME_BOOK_\_         | 予約日時　                     |           |
+-------------------------+--------------------------------+-----------+
| \__TIME_START_\_        | 開始日時　                     |           |
+-------------------------+--------------------------------+-----------+
| \__TIME_END_\_          | 終了日時　                     |           |
+-------------------------+--------------------------------+-----------+
| \__JUMP_URL_\_          | 作業確認URL　                  | ※         |
+-------------------------+--------------------------------+-----------+

※作業確認URLの出力内容は、「作業確認URL(FQDN)」の入力内容が使用され以下の形で出力されます。

<作業確認URL(FQDN)>/default/menu/01_browse.php?no=2100180005&conductor_instance_id=X

+-----------------------------------------------------------------------+
| 例:作業確                                                             |
| 認URL(FQDN)の値を「http://exastro-it-automation.local」としていた場合 |
| http://exastro-it-automation.l                                        |
| ocal/default/menu/01_browse.php?no=2100180005&conductor_instance_id=X |
+=======================================================================+
+-----------------------------------------------------------------------+

Conductorクラス一覧
~~~~~~~~~~~~~~~~~~~

(1) 「Conductorクラス一覧」メニューでは、登録済みのConductorクラスを参照/廃止できます。

「一覧」サブメニューの「詳細」ボタンをクリックすると、そのConductorクラスの編集画面
[*4.1.4 Conductorクラス編集*]へ遷移できます。

.. image:: ./conductor/image5.png
   :width: 6.30721in
   :height: 3.02026in

図 4.1- 3「Conductorクラス一覧」メニュー

Conductorクラス編集
~~~~~~~~~~~~~~~~~~~

(1) 「Conductor クラス編集」メニューについて

-  Conductor名称と、ワークフローを構成する各パーツ（以下、Node）を登録します。

-  画面上のモードについて、以下2種のモードがあります。

表 4.1- 4 モード一覧

+------+---------------------------------------------------------------+
| **   | **説明**                                                      |
| モー |                                                               |
| ド** |                                                               |
+======+===============================================================+
| EDIT | -  Conductor クラスを編集できるモード                         |
|      |                                                               |
|      | -  「Conductor クラス編集」メニューのデフォルトのモード       |
|      |                                                               |
|      | -  EDITモー                                                   |
|      | ドから「登録」ボタン/「更新」ボタン押下後に、VIEWモードへ変更 |
+------+---------------------------------------------------------------+
| VIEW | -  Conductor クラスを閲覧のみできるモード                     |
|      |                                                               |
|      | -  「Conductor                                                |
|      |    クラス一覧」メニューの「詳細」ボタンから画面遷移後のモード |
|      |                                                               |
|      | -  VIEWモードから「編集」ボタン押下後に、EDITモードへ変更     |
+------+---------------------------------------------------------------+

..

   各モードで可能な操作については「\ **表 4.1-
   18「Conductorクラス編集」メニュー実行操作一覧**\ 」を参照。

-  選択したNodeにより、「B）詳細情報」に表示される内容が変わります。

..

   .. image:: ./conductor/image6.png
      :width: 5.86119in
      :height: 2.76182in

図 4.1- 4「Conductorクラス編集」メニュー（モード：EDIT）

A) Node一覧

-  画面右側下部の領域には、利用可能なNodeが表示されます。

-  以下のタブから構成されます。

   -  Movemetタブ

      -  登録済みのMovementのIDと名称の一覧

   -  Functionタブ

      -  Conductor end

      -  Conductor pause

      -  Conductor call

      -  Symphony call

      -  Conditional branch

      -  Parallel branch

      -  Parallel merge

      -  Status File branch

-  各Nodeについて、詳細は以下の通りです。

表 4.1- 5 Node一覧

+----------------+-----------------+-----------------------------------+
| **画像**       | **名称**        | **動作説明**                      |
+================+=================+===================================+
| |image1|       | Conductor start | Conductorを開始します             |
+----------------+-----------------+-----------------------------------+
| |image2|       | Conductor end   | Conductor終了します。             |
|                |                 |                                   |
|                |                 | ※複数のConductor                  |
|                |                 | endがある場合、全てのConductor    |
|                |                 | endが終了を待ちます。             |
+----------------+-----------------+-----------------------------------+
| |image3|       | Conductor pause | ワークフローを一時停止します。    |
|                |                 |                                   |
|                |                 | 一時停止を                        |
|                |                 | 解除すると、次の処理へ進みます。  |
+----------------+-----------------+-----------------------------------+
| |image4|       | Conductor call  | 別の登録済みのCond                |
|                |                 | uctorクラスを呼び出し実行します。 |
|                |                 |                                   |
|                |                 | ※                                 |
|                |                 | 呼び出し先のConductorが警告終了で |
|                |                 | 終了した場合、正常終了と同じよう  |
|                |                 | に後続の処理を実行して、呼び出し  |
|                |                 | 元のステータスには影響しません。  |
+----------------+-----------------+-----------------------------------+
| |image5|       | Symphony call   | 登録済みのSym                     |
|                |                 | phonyクラスを呼び出し実行します。 |
+----------------+-----------------+-----------------------------------+
| |image6|       | Conditional     | 接続                              |
|                | branch          | された、「Movement」、「Conductor |
|                |                 | call」、「Symphony                |
|                |                 | call」の結果によ                  |
|                |                 | って、後続の処理を分岐させます。  |
|                |                 |                                   |
|                |                 | 指定可能                          |
|                |                 | なステータスは、以下になります。  |
|                |                 |                                   |
|                |                 | ・正常終了                        |
|                |                 |                                   |
|                |                 | ・異常終了                        |
|                |                 |                                   |
|                |                 | ・緊急停止                        |
|                |                 |                                   |
|                |                 | ・準備エラー                      |
|                |                 |                                   |
|                |                 | ・想定外エラー                    |
|                |                 |                                   |
|                |                 | ・SKIP完了                        |
|                |                 |                                   |
|                |                 | ・警告終了                        |
+----------------+-----------------+-----------------------------------+
| |image7|       | Parallel branch | 並                                |
|                |                 | 列して、「Movement」、「Conductor |
|                |                 | call」、「Symphony                |
|                |                 | call」を実行します。              |
|                |                 |                                   |
|                |                 | ※並列可能な実行数は、ITAの構成    |
|                |                 | やサーバースペックに依存します。  |
+----------------+-----------------+-----------------------------------+
| |image8|       | Parallel merge  | 接続している全Nodeの処理          |
|                |                 | が完了後、次の処理を実行します。  |
+----------------+-----------------+-----------------------------------+
| |image9|       | Status file     | 接続された、「                    |
|                | branch          | Movement」の作業結果ディレクトリ  |
|                |                 | 内のステータスファイルの内容によ  |
|                |                 | って、後続の処理を分岐させます。  |
+----------------+-----------------+-----------------------------------+
| |image10|      | Movement各種    | Movementを実行します。            |
+----------------+-----------------+-----------------------------------+

-  Nodeにおける制約事項は以下の通りです。

   -  登録/更新を行うには、全てのNodeのIN/OUT　が接続されている必要があります。

..

   .. image:: ./conductor/image17.png
      :width: 5.31496in
      :height: 0.84975in

図 4.1- 5 Node制約事項（正常例：Parallel branch）

-  Parallel mergeを使用する場合、Parallel
   branchを使用している必要があります。

..

   .. image:: ./conductor/image18.png
      :width: 5.31496in
      :height: 0.77412in

図 4.1- 6 Node制約事項（NG例：Parallel branch）

-  Conditional branch で分岐されたフローについてParallel
   mergeでマージする事はできません。

..

   .. image:: ./conductor/image19.png
      :width: 5.31496in
      :height: 1.02841in

図 4.1- 7 Node制約事項（NG例：Conditional branch）

-  Parallel branch、Conditional branch、Parallel merge、Conductor
   pauseについて、連続して同じ種類のNodeを接続する事はできません。

..

   .. image:: ./conductor/image20.png
      :width: 5.31496in
      :height: 1.87982in

図 4.1- 8 Node制約事項（NG例：連続使用）

-  Conductor callについて、更新中のConductorをConductor
   callで指定し、更新することはできません。

..

   .. image:: ./conductor/image21.png
      :width: 5.31496in
      :height: 1.05291in

図 4.1- 9 Node制約事項（NG例：Conductor call）

-  各NodeをNode一覧からドラッグ＆ドロップで追加することが可能です。

-  Node選択時「B）詳細情報」に表示される「Note」欄には、処理説明やコメントをメモすることが可能です。

-  「Note」欄の記述は処理実行に影響はありません。Web上でのみ参照できるメモ欄です。

-  Node設定後、「登録」ボタンを押下してConductorクラスを登録します

B) 詳細情報

-  画面右側上部の領域には、選択しているNodeの詳細情報が表示されます。

-  選択しているNodeによってタブの名称が変わります。

i. 「Conductor名称」タブ

-  Node未選択の場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 6 「Conductor名称」タブ

+------+-----------------------------------+-----+---------+---------+
| **項 | **説明**                          | *   | **入力  | **制約  |
| 目** |                                   | *入 | 形式**  | 事項**  |
|      |                                   | 力  |         |         |
|      |                                   | **  |         |         |
|      |                                   |     |         |         |
|      |                                   | *   |         |         |
|      |                                   | *必 |         |         |
|      |                                   | 須  |         |         |
|      |                                   | **  |         |         |
+======+===================================+=====+=========+=========+
| ID　 | Conductorに対応                   | -   | 自      | -       |
|      | した一意のIDが自動採番されます。  |     | 動入力  |         |
+------+-----------------------------------+-----+---------+---------+
| Name | 任意の                            | ○   | 手      | -       |
|      | Conductorクラス名称を入力します。 |     | 動入力  |         |
+------+-----------------------------------+-----+---------+---------+
| No   | 実行する通知を選択します。        | -   | 選択    | ※       |
| tice |                                   |     |         |         |
|      | 各ステータスに対して、            |     |         |         |
|      | 実行する通知を複数選択できます。  |     |         |         |
+------+-----------------------------------+-----+---------+---------+
| Role | このConductorへア                 | -   | 選択    | -       |
|      | クセス可能なロールを選択します。  |     |         |         |
|      |                                   |     |         |         |
|      | ロールが1つも                     |     |         |         |
|      | 選択されていない場合は、すべての  |     |         |         |
|      | ロールがアクセス可能となります。  |     |         |         |
|      |                                   |     |         |         |
|      | 「Permission role                 |     |         |         |
|      | s                                 |     |         |         |
|      | elect」ボタンを押下して表示される |     |         |         |
|      | 一覧から任意の値を選択できます。  |     |         |         |
+------+-----------------------------------+-----+---------+---------+
| Note | Conductorクラスに対               | -   | 手      | -       |
|      | する説明やコメントを入力します。  |     | 動入力  |         |
+------+-----------------------------------+-----+---------+---------+

..

   ※選択できる通知は、「4.1.2Conductor通知先定義」で登録したものが対象となります。

.. image:: ./conductor/image22.png
   :width: 3.45455in
   :height: 3.25758in

図 4.1- 10 「Conductor」名称タブ

.. image:: ./conductor/image23.png
   :width: 3.811in
   :height: 1.02937in

図 4.1- 11 「Notice」のポップアップ

.. image:: ./conductor/image24.png
   :width: 3.54331in
   :height: 1.00765in

図 4.1- 12 「Permission role」のポップアップ

ii. 「Movement」タブ

-  「A）Node一覧」における「Movement」タブ内のNodeを選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 7「Movement」タブ

+------------+------------------------------+-----+---------+---------+
| **項目**   | **説明**                     | *   | **入力  | **制約  |
|            |                              | *入 | 形式**  | 事項**  |
|            |                              | 力  |         |         |
|            |                              | **  |         |         |
|            |                              |     |         |         |
|            |                              | *   |         |         |
|            |                              | *必 |         |         |
|            |                              | 須  |         |         |
|            |                              | **  |         |         |
+============+==============================+=====+=========+=========+
| Movement   | 選択した                     | -   | 自      | -       |
| ID 　      | MovementのIDが表示されます。 |     | 動入力  |         |
+------------+------------------------------+-----+---------+---------+
| Or         | 選択したMovementのオーケ     | -   | 自      | -       |
| chestrator | ストレータ名が表示されます。 |     | 動入力  |         |
+------------+------------------------------+-----+---------+---------+
| Name       | 選択したMo                   | -   | 自      | -       |
|            | vementの名称が表示されます。 |     | 動入力  |         |
+------------+------------------------------+-----+---------+---------+
| Default    | 対象作業をスキップする       | -   | 手      |         |
| skip       | 場合にチェックします。「Con  |     | 動入力  |         |
|            | ductor作業実行」メニューにて |     |         |         |
|            | 、変更可能なパラメータです。 |     |         |         |
+------------+------------------------------+-----+---------+---------+
| Operation  | 「Select」ボ                 | -   | 選択    | -       |
|            | タンを押下して表示される一覧 |     |         |         |
|            | から任意の値を選択できます。 |     |         |         |
|            |                              |     |         |         |
|            | 選択したオペ                 |     |         |         |
|            | レーション名が表示されます。 |     |         |         |
+------------+------------------------------+-----+---------+---------+
| Note       | Nodeに対する説               | -   | 手      | -       |
|            | 明やコメントを入力できます。 |     | 動入力  |         |
+------------+------------------------------+-----+---------+---------+

..

   .. image:: ./conductor/image25.png
      :width: 3.54331in
      :height: 3.55147in

図 4.1- 13「Movement」タブ

   .. image:: ./conductor/image26.png
      :width: 3.54697in
      :height: 1.32678in

図 4.1- 14 「Operation select」のポップアップ

iii. 「Function」タブ

-  「A）Node一覧」における「Function」タブ内の「Conductor
   start」「Conductor end」「Conductor
   pause」を選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 8 「Function」タブ

+---------+---------------------------------+-----+---------+---------+
| *       | **説明**                        | *   | **入力  | **制約  |
| *項目** |                                 | *入 | 形式**  | 事項**  |
|         |                                 | 力  |         |         |
|         |                                 | **  |         |         |
|         |                                 |     |         |         |
|         |                                 | *   |         |         |
|         |                                 | *必 |         |         |
|         |                                 | 須  |         |         |
|         |                                 | **  |         |         |
+=========+=================================+=====+=========+=========+
| Type    | 選択し                          | -   | 自      | -       |
|         | たNodeのタイプが表示されます。  |     | 動入力  |         |
+---------+---------------------------------+-----+---------+---------+
| Note    | Nodeに対する                    | -   | 手      | -       |
|         | 説明やコメントを入力できます。  |     | 動入力  |         |
+---------+---------------------------------+-----+---------+---------+

..

   .. image:: ./conductor/image27.png
      :width: 3.54331in
      :height: 1.74066in

図 4.1- 15 「Functionタブ」

iv. 「Conductor call」タブ

-  「A）Node一覧」における「Function」タブ内の「Conductor
   call」を選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 9 「Conductor call」タブ

+-----------+------------------------------+-----+---------+---------+
| **項目**  | **説明**                     | *   | **入力  | **制約  |
|           |                              | *入 | 形式**  | 事項**  |
|           |                              | 力  |         |         |
|           |                              | **  |         |         |
|           |                              |     |         |         |
|           |                              | *   |         |         |
|           |                              | *必 |         |         |
|           |                              | 須  |         |         |
|           |                              | **  |         |         |
+===========+==============================+=====+=========+=========+
| Default   | 対象作業をスキッ             | -   | 手      | -       |
| skip      | プする場合にチェックします。 |     | 動入力  |         |
|           |                              |     |         |         |
|           | Conductor作業実行画面にて    |     |         |         |
|           | 、変更可能なパラメータです。 |     |         |         |
+-----------+------------------------------+-----+---------+---------+
| Conductor | 「Conductor                  | 〇  | 選択    | -       |
|           | Select」ボタ                 |     |         |         |
|           | ンを押下して表示される一覧か |     |         |         |
|           | らConductorを選択できます。  |     |         |         |
|           |                              |     |         |         |
|           | 選択したConduct              |     |         |         |
|           | orクラス名称が表示されます。 |     |         |         |
+-----------+------------------------------+-----+---------+---------+
| Operation | 「Conductor                  | -   | 選択    | -       |
|           | Select」ボタンを押下して     |     |         |         |
|           | 表示される一覧から、任意のオ |     |         |         |
|           | ペレーションを選択できます。 |     |         |         |
|           |                              |     |         |         |
|           | 指定したオペ                 |     |         |         |
|           | レーション名が表示されます。 |     |         |         |
+-----------+------------------------------+-----+---------+---------+
| Note      | Nodeに対する説               | -   | 手      | -       |
|           | 明やコメントを入力できます。 |     | 動入力  |         |
+-----------+------------------------------+-----+---------+---------+

..

   .. image:: ./conductor/image28.png
      :width: 3.54331in
      :height: 3.84489in

図 4.1- 16 「Conductor call」タブ

   .. image:: ./conductor/image29.png
      :width: 3.54331in
      :height: 1.49047in

図 4.1- 17「Conductor select」のポップアップ

v. 「Symphony call」タブ

-  「A）Node一覧」における「Function」タブ内の「Symphony
   call」を選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 10　「Symphony call」タブ

+------------+------------------------------+-----+---------+---------+
| **項目**   | **説明**                     | *   | **入力  | **制約  |
|            |                              | *入 | 形式**  | 事項**  |
|            |                              | 力  |         |         |
|            |                              | **  |         |         |
|            |                              |     |         |         |
|            |                              | *   |         |         |
|            |                              | *必 |         |         |
|            |                              | 須  |         |         |
|            |                              | **  |         |         |
+============+==============================+=====+=========+=========+
| Default    | 対象作業をスキッ             | -   | 手      | -       |
| skip       | プする場合にチェックします。 |     | 動入力  |         |
|            |                              |     |         |         |
|            | Conductor作業実行画面にて    |     |         |         |
|            | 、変更可能なパラメータです。 |     |         |         |
+------------+------------------------------+-----+---------+---------+
| Symphony   | 「Symphony                   | 〇  | 選択    | -       |
|            | Select」ボ                   |     |         |         |
|            | タンを押下して表示される一覧 |     |         |         |
|            | からSymphonyを選択できます。 |     |         |         |
|            |                              |     |         |         |
|            | 選択したSympho               |     |         |         |
|            | nyクラス名称が表示されます。 |     |         |         |
+------------+------------------------------+-----+---------+---------+
| Operation  | 「Operation                  | -   | 選択    | -       |
|            | Select」ボタンを             |     |         |         |
|            | 押下して表示される一覧からオ |     |         |         |
|            | ペレーションを選択できます。 |     |         |         |
|            |                              |     |         |         |
|            | 選択したオペ                 |     |         |         |
|            | レーション名が表示されます。 |     |         |         |
+------------+------------------------------+-----+---------+---------+
| Note       | Nodeに対する説               | -   | 手      | -       |
|            | 明やコメントを入力できます。 |     | 動入力  |         |
+------------+------------------------------+-----+---------+---------+

..

   .. image:: ./conductor/image30.png
      :width: 3.54331in
      :height: 3.71193in

図 4.1- 18 「Symphony call」タブ

   .. image:: ./conductor/image31.png
      :width: 3.54331in
      :height: 0.99799in

図 4.1- 19 「Symphony select」のポップアップ

vi. 「Parallel branch」タブ

-  「A）Node一覧」における「Function」タブ内の「Parallel
   branch」を選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 11　 「Parallel branch」タブ

+--------+--------------------------------+-----+----------+----------+
| **     | **説明**                       | *   | **入     | **制     |
| 項目** |                                | *入 | 力形式** | 約事項** |
|        |                                | 力  |          |          |
|        |                                | **  |          |          |
|        |                                |     |          |          |
|        |                                | *   |          |          |
|        |                                | *必 |          |          |
|        |                                | 須  |          |          |
|        |                                | **  |          |          |
+========+================================+=====+==========+==========+
| case   | 分岐数を設定します。           | -   | 選択     | -        |
|        | 「Add」ボタン/「Delete」ボタン |     |          |          |
|        | を押下して、分岐を増減します。 |     |          |          |
|        |                                |     |          |          |
|        | デフォルトの分岐数は2です      |     |          |          |
|        | 。2以下の値は設定できません。  |     |          |          |
+--------+--------------------------------+-----+----------+----------+
| Note   | Nodeに対する                   | -   | 手動入力 | -        |
|        | 説明やコメントを入力できます。 |     |          |          |
+--------+--------------------------------+-----+----------+----------+

..

   .. image:: ./conductor/image32.png
      :width: 3.54331in
      :height: 1.70107in

図 4.1- 20 「Parallel branch」タブ

vii. 「Conditional branch」タブ

-  「A）Node一覧」における「Function」タブ内の「Conditional
   branch」を選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 12　 「Conditional branch」タブ

+------+-----------------------------------+-----+---------+---------+
| **項 | **説明**                          | *   | **入力  | **制約  |
| 目** |                                   | *入 | 形式**  | 事項**  |
|      |                                   | 力  |         |         |
|      |                                   | **  |         |         |
|      |                                   |     |         |         |
|      |                                   | *   |         |         |
|      |                                   | *必 |         |         |
|      |                                   | 須  |         |         |
|      |                                   | **  |         |         |
+======+===================================+=====+=========+=========+
| case | Movement、Conductor               | -   | 選択    | ※       |
| (    | call、Symphony                    |     |         |         |
| 1-6) | callの実行                        |     |         |         |
|      | 結果による条件分岐を設定します。  |     |         |         |
|      |                                   |     |         |         |
|      | ドラッグアン                      |     |         |         |
|      | ドドロップで設定を変更できます。  |     |         |         |
|      |                                   |     |         |         |
|      | デフォルトは以下の通りです。      |     |         |         |
|      |                                   |     |         |         |
|      | +------+----------------------+   |     |         |         |
|      | | *    | 正常終了             |   |     |         |         |
|      | | *Cas |                      |   |     |         |         |
|      | | e1** |                      |   |     |         |         |
|      | +======+======================+   |     |         |         |
|      | | *    | 異常                 |   |     |         |         |
|      | | *Oth | 終了、緊急停止、準備 |   |     |         |         |
|      | | er** | エラー、想定外エラー |   |     |         |         |
|      | |      | 、skip完了、警告終了 |   |     |         |         |
|      | +------+----------------------+   |     |         |         |
+------+-----------------------------------+-----+---------+---------+
| Note | Nodeに対す                        | -   | 手      | -       |
|      | る説明やコメントを入力できます。  |     | 動入力  |         |
+------+-----------------------------------+-----+---------+---------+

..

   ※警告終了は、Conductorにのみ対応したステータスとなります。「Movement」、「Symphony
   callノード」と「Conditional
   branch」を接続した場合、警告終了のCaseへの分岐へ進行することはありません。

   .. image:: ./conductor/image33.png
      :width: 3.01966in
      :height: 2.50693in

図 4.1- 21 「Conditional branch」タブ

viii. 「Parallel Merge」タブ

-  「A）Node一覧」における「Function」タブ内の「Parallel
   merge」を選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 13　 「Merge」タブ

+-------+----------------------------------+-----+---------+---------+
| **項  | **説明**                         | *   | **入力  | **制約  |
| 目**  |                                  | *入 | 形式**  | 事項**  |
|       |                                  | 力  |         |         |
|       |                                  | **  |         |         |
|       |                                  |     |         |         |
|       |                                  | *   |         |         |
|       |                                  | *必 |         |         |
|       |                                  | 須  |         |         |
|       |                                  | **  |         |         |
+=======+==================================+=====+=========+=========+
| case  | 分岐数を設定しま                 | -   | 選択    |         |
|       | す。「Add」ボタン/「Delete」ボタ |     |         |         |
|       | ンを押下して、分岐を増減します。 |     |         |         |
|       |                                  |     |         |         |
|       | デフォルトの分岐数は2で          |     |         |         |
|       | す。2以下の値は設定できません。  |     |         |         |
+-------+----------------------------------+-----+---------+---------+
| Note  | Nodeに対す                       | -   | 手      | -       |
|       | る説明やコメントを入力できます。 |     | 動入力  |         |
+-------+----------------------------------+-----+---------+---------+

..

   .. image:: ./conductor/image34.png
      :width: 3.35463in
      :height: 1.70857in

図 4.1- 22 「Merge」タブ

ix. 「End」タブ

-  「A）Node一覧」における「Function」タブ内の「End」を選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 14　 「End」タブ

+-------+------------------------------------+-----+--------+--------+
| **項  | **説明**                           | *   | **入力 | **制約 |
| 目**  |                                    | *入 | 形式** | 事項** |
|       |                                    | 力  |        |        |
|       |                                    | **  |        |        |
|       |                                    |     |        |        |
|       |                                    | *   |        |        |
|       |                                    | *必 |        |        |
|       |                                    | 須  |        |        |
|       |                                    | **  |        |        |
+=======+====================================+=====+========+========+
| End   | Endまで処理された                  | -   | 選択   |        |
| s     | 際に、選択されたステータスが、Con  |     |        |        |
| tatus | ductorのステータスへ反映されます。 |     |        |        |
|       |                                    |     |        |        |
|       | - 正常終了 (デフォルト値)          |     |        |        |
|       |                                    |     |        |        |
|       | - 警告終了                         |     |        |        |
|       |                                    |     |        |        |
|       | - 異常終了                         |     |        |        |
|       |                                    |     |        |        |
|       | | 複数のE                          |     |        |        |
|       | ndノードまで処理された場合、反映さ |     |        |        |
|       | れるステータスの優先度は以下です。 |     |        |        |
|       | | 優先度：　　正常終了 < 警告終了  |     |        |        |
|       |   < 異常終了                       |     |        |        |
+-------+------------------------------------+-----+--------+--------+
| Note  | Nodeに対                           | -   | 手     | -      |
|       | する説明やコメントを入力できます。 |     | 動入力 |        |
+-------+------------------------------------+-----+--------+--------+

..

   .. image:: ./conductor/image35.png
      :width: 3.36933in
      :height: 1.69697in

図 4.1- 23 「End」タブ

x. 「Status file branch」タブ

-  「A）Node一覧」における「Function」タブ内の「Status file
   branch」を選択した場合表示されます。

-  タブ内の項目は以下の通りです。

表 4.1- 15　「Status file branch」タブ

+------+-----------------------------------+-----+---------+---------+
| **項 | **説明**                          | *   | **入力  | **制約  |
| 目** |                                   | *入 | 形式**  | 事項**  |
|      |                                   | 力  |         |         |
|      |                                   | **  |         |         |
|      |                                   |     |         |         |
|      |                                   | *   |         |         |
|      |                                   | *必 |         |         |
|      |                                   | 須  |         |         |
|      |                                   | **  |         |         |
+======+===================================+=====+=========+=========+
| If   | Movementのステータスファ          | -   | 手      | ※       |
|      | イルによる条件分岐を設定します。  |     | 動入力  |         |
| /    |                                   |     |         |         |
|      | 「Add」ボタン/「Delete」ボタ      |     |         |         |
| el   | ンを押下して、分岐を増減します。  |     |         |         |
| seif |                                   |     |         |         |
|      | デフォル                          |     |         |         |
|      | トの分岐は「if」と「else」です。  |     |         |         |
+------+-----------------------------------+-----+---------+---------+
| Note | Nodeに対す                        | -   | 手      | -       |
|      | る説明やコメントを入力できます。  |     | 動入力  |         |
+------+-----------------------------------+-----+---------+---------+

..

   .. image:: ./conductor/image36.png
      :width: 3.23843in
      :height: 2.17806in

図 4.1- 24 「Status file branch」タブ

   ※参照するステータスファイルについて

-  参照するステータスファイルは、各Movmentの作業結果ディレクトリ配下の「MOVEMENT_STATUS_FILE」を参照します。

-  ステータスファイルが存在しない場合、「else」側の処理を行います。

-  ステータスファイル内の内容が、複数行（改行コードを含む）場合、改行コード以降は、除外した値を評価対象とします。

..

   例）改行含むステータスファイルの内容

+-----------------------------------------------------------------------+
| 1                                                                     |
|                                                                       |
| 23                                                                    |
|                                                                       |
| 4                                                                     |
+=======================================================================+
+-----------------------------------------------------------------------+

..

   ステータスファイルの内容として、「1」として、評価を行います。

表 4.1- 16　ステータスファイル ITA 独自変数

+-----------------------+-------------------------------+-------------+
| **ITA独自変数**       | **変数指定内容**              | *           |
|                       |                               | *制約事項** |
+=======================+===============================+=============+
| \__moveme             | 作業結果ディレクトリ配下の「  | ※           |
| nt_status_filepath_\_ | MOVEMENT_STATUS_FILE」のパス  |             |
+-----------------------+-------------------------------+-------------+

..

   ※「Ansible-Legacy」、「Ansible-Pioneer」、「Ansible-LegacyRole」で対応しています。

xi. 「Node」タブ

-  「A）Node一覧」における「Movement」タブおよび「Function」タブ内のNodeを複数選択した場合表示されます。

-  Nodeを複数選択する方法については、ドラッグアンドドロップでの範囲選択の他、「shift」キーを押下しながらの選択が可能です。

-  タブ内の項目は以下の通りです。

表 4.1- 17 「Node」タブ

+-------+----------------------------------+-----+---------+---------+
| **項  | **説明**                         | *   | **入力  | **制約  |
| 目**  |                                  | *入 | 形式**  | 事項**  |
|       |                                  | 力  |         |         |
|       |                                  | **  |         |         |
|       |                                  |     |         |         |
|       |                                  | *   |         |         |
|       |                                  | *必 |         |         |
|       |                                  | 須  |         |         |
|       |                                  | **  |         |         |
+=======+==================================+=====+=========+=========+
| |ima  | 複数選                           | -   | 選択    | -       |
| ge11| | 択したNodeを左揃えに整列します。 |     |         |         |
+-------+----------------------------------+-----+---------+---------+
| |ima  | 複数選択した                     | -   | 選択    | -       |
| ge12| | Nodeを左右中央揃えに整列します。 |     |         |         |
+-------+----------------------------------+-----+---------+---------+
| |ima  | 複数選                           | -   | 選択    | -       |
| ge13| | 択したNodeを右揃えに整列します。 |     |         |         |
+-------+----------------------------------+-----+---------+---------+
| |ima  | 複数選                           | -   | 選択    | -       |
| ge14| | 択したNodeを上揃えに整列します。 |     |         |         |
+-------+----------------------------------+-----+---------+---------+
| |ima  | 複数選択した                     | -   | 選択    | -       |
| ge15| | Nodeを上下中央揃えに整列します。 |     |         |         |
+-------+----------------------------------+-----+---------+---------+
| |ima  | 複数選                           | -   | 選択    | -       |
| ge16| | 択したNodeを下揃えに整列します。 |     |         |         |
+-------+----------------------------------+-----+---------+---------+
| |ima  | 複数選                           | -   | 選択    | -       |
| ge17| | 択したNodeを左右等間隔にします。 |     |         |         |
+-------+----------------------------------+-----+---------+---------+
| |ima  | 複数選                           | -   | 選択    | -       |
| ge18| | 択したNodeを上下等間隔にします。 |     |         |         |
+-------+----------------------------------+-----+---------+---------+

..

   .. image:: ./conductor/image45.png
      :width: 3.14961in
      :height: 3.50328in

図 4.1- 25 「Node」タブ

-  「Conductorクラス編集」メニューで実行可能な操作は以下の通りです。

表 4.1- 18「Conductorクラス編集」メニュー実行操作一覧

+---------+-----------------------------------+-----+----+----+------+
| *       | **説明**                          | *   | ** |    | **備 |
| *項目** |                                   | *新 | 更 |    | 考** |
|         |                                   | 規  | 新 |    |      |
|         |                                   | **  | ** |    |      |
+=========+===================================+=====+====+====+======+
|         |                                   | **  | ** | ** |      |
|         |                                   | EDI | VI | ED |      |
|         |                                   | T** | EW | IT |      |
|         |                                   |     | ** | ** |      |
+---------+-----------------------------------+-----+----+----+------+
| 新規    | 初期状態へ戻します。              | 〇  | -  | -  |      |
+---------+-----------------------------------+-----+----+----+------+
| 保存    | 描画されている状                  | 〇  | -  | -  |      |
|         | 態を、ファイル形式で保存します。  |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+
| 読      | 保存したファイ                    | 〇  | -  | -  |      |
| み込み  | ルを読み込み、状態を復元します。  |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+
| 取      | 直前の処理を取り消します。        | 〇  | -  | 〇 |      |
| り消し  |                                   |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+
| や      | 直前の取り消しをやり直します。    | 〇  | -  | 〇 |      |
| り直し  |                                   |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+
| ノー    | 選択しているNodeを削除します。    | 〇  | -  | 〇 |      |
| ド削除  |                                   |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+
| 登録    | 登録を実施します。                | 〇  | -  | -  |      |
+---------+-----------------------------------+-----+----+----+------+
| 編集    | EDITモードへ変                    | -   | 〇 | 〇 |      |
|         | 更し、Conductorの編集を行います。 |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+
| 流      | 登録済のConducto                  | -   | 〇 | 〇 |      |
| 用新規  | rを流用して、新規作成が行えます。 |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+
| 更新    | 編集内容を更新します。            | -   | -  | 〇 |      |
+---------+-----------------------------------+-----+----+----+------+
| 再読込  | 変更をキャン                      | -   | -  | 〇 |      |
|         | セルし、変更前の状態へ戻します。  |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+
| キャ    | 変更をキャン                      |     | -  | 〇 |      |
| ンセル  | セルし、VIEWモードへ変更します。  |     |    |    |      |
+---------+-----------------------------------+-----+----+----+------+

(2) 「VIEW」モードについて

「Conductor
クラス一覧」メニューから遷移した場合や、登録が完了した場合は、以下の画面が表示されます。

.. image:: ./conductor/image46.png
   :width: 5.70716in
   :height: 3.72699in

図 4.1- 26 「Conductorクラス編集」メニュー（「VIEW」モード）

表 4.1- 19　 「VIEW」モード

+-------------+--------------------------------------------------------+
| **項目**    | **説明**                                               |
+=============+========================================================+
| 「編        | 登録済みのConductorを編集できます。                    |
| 集」ボタン  |                                                        |
+-------------+--------------------------------------------------------+
| 「流用新    | 登録済みのConductorをコピーして新規作成が行えます。    |
| 規」ボタン  |                                                        |
+-------------+--------------------------------------------------------+

(3) 「EDIT」モード

「編集」ボタンを押下した場合は、以下の画面が表示されます。

.. image:: ./conductor/image47.png
   :width: 5.70716in
   :height: 3.71365in

図 4.1- 27 「Conductorクラス編集」メニュー（「EDIT」モード）

表 4.1- 20　 「EDIT」モード

+------------------+---------------------------------------------------+
| **項目**         | **説明**                                          |
+==================+===================================================+
| 「               | Nodeすべてが表示される縮尺で表示されます。        |
| 全体表示」ボタン |                                                   |
+------------------+---------------------------------------------------+
| 「表示           | 「Conductor                                       |
| リセット」ボタン | start」を基準に表示がリセットされます。           |
+------------------+---------------------------------------------------+
| 「フルス         | ブラウザの表示がフルスクリーンになります。        |
| クリーン」ボタン |                                                   |
|                  | ※フルスクリー                                     |
|                  | ン時は「フルスクリーン解除」ボタンに変わります。  |
+------------------+---------------------------------------------------+
| 「更新」ボタン   | 編集内容が保存されます。                          |
+------------------+---------------------------------------------------+
| 「再読込」ボタン | 編集内容が破棄されて登録内容の状態に戻ります。    |
+------------------+---------------------------------------------------+
| 「キ             | 「編集」ボタン押下前の状態に戻ります。            |
| ャンセル」ボタン |                                                   |
+------------------+---------------------------------------------------+

Conductor作業実行
~~~~~~~~~~~~~~~~~

(1) 「Conductor 作業実行」メニューでは、Conductor実行の指示を行います。

-  「Conductor[一覧]」サブメニューには、「\ *4.1.3
   Conductorクラス一覧*\ 」で登録したConductorが表示されます。

-  「オペレーション[一覧]」サブメニューには、「基本コンソール」メニューグループ
   >
   「オペレーション一覧」メニューで登録したオペレーションが表示されます。

-  別紙、「利用手順マニュアル 基本コンソール」を参照。

-  「Conductor[一覧]」サブメニュー及び「オペレーション[一覧]」サブメニューのラジオボタンからそれぞれ選択し「実行」ボタンを押下すると「\ *4.1.6
   Conductor作業確認*\ 」に遷移し、作業のトレースが始まります。

-  「スケジューリング」サブメニューにて予約日時を入力して「実行」ボタンを押下すると、作業予約が作られます。登録情報は「\ *4.1.7
   Conductor作業一覧*\ 」で確認できます。

-  現在時刻より過去の日時は入力できません

-  Movement、Conductor Call、Symphony CallのOperation,
   skipのみ、設定値を変更可能です。

-  Conductor編集で登録したデータへ変更は反映されません。作業実行にのみ反映されます。

-  実行したConductorに設定されるアクセス権について、実行時に選択したConductor、オペレーションに設定されたアクセス権の共通するロールを継承します。共通するロールが存在しない場合、作業実行できません。

..

   .. image:: ./conductor/image48.png
      :width: 5.50714in
      :height: 7.70067in

図 4.1- 28 「Conductor作業実行」メニュー

-  「Conductor実行」メニューの共通項目は以下のとおりです。

表 4.1- 21　「Conductor実行」共通項目一覧

+--------------+------------------------------+----+------+-----------+
| **項目**     | **説明**                     | ** | **入 | **制      |
|              |                              | 入 | 力** | 約事項**  |
|              |                              | 力 |      |           |
|              |                              | ** | **形 |           |
|              |                              |    | 式** |           |
|              |                              | ** |      |           |
|              |                              | 必 |      |           |
|              |                              | 須 |      |           |
|              |                              | ** |      |           |
+==============+==============================+====+======+===========+
| 予約日時     | Conductor                    | -  | 手動 | 現在時刻  |
|              | の実行予定日時を指定します。 |    | 入力 | より過去  |
|              |                              |    |      | の日時は  |
|              |                              |    |      | 入力不可  |
+--------------+------------------------------+----+------+-----------+
| Con          | 「4.1.7C                     | ○  | ラ   |           |
| ductor[一覧] | onductorクラス一覧」で登録し |    | ジオ |           |
|              | たConductorが表示されます。  |    |      |           |
|              |                              |    | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| オペレー     | 「4.1.4投入オペ              | ○  | ラ   |           |
| ション[一覧] | レーション一覧」で登録したオ |    | ジオ |           |
|              | ペレーションが表示されます。 |    |      |           |
|              |                              |    | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| Skip         | 対象作業をスキッ             | -  | チェ |           |
|              | プする場合にチェックします。 |    | ック |           |
|              |                              |    |      |           |
|              | ※以下「オペレ                |    | ボッ |           |
|              | ーションの指定について」参照 |    | クス |           |
+--------------+------------------------------+----+------+-----------+
| Operation    | ※以下「オペレ                | -  | 手動 |           |
|              | ーションの指定について」参照 |    | 入力 |           |
+--------------+------------------------------+----+------+-----------+
| Notice       | 通知の設定を確認できます。   | -  | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| 実行         | 登録                         | ○  | ボ   |           |
|              | したConductorを実行します。  |    | タン |           |
+--------------+------------------------------+----+------+-----------+

-  オペレーションの指定について

..

   「Operation欄のselect」をクリックすると、Operationのリストが表示されます。

   | 画面のラジオボタンで指定したオペレーションのオペレーションIDとは別のオペレーションを指定することができます。
   | これにより、そのMovementの属するオーケストレータの「代入値管理」メニュー（例：
     `ITAAnsible-Legacyコンソール <https://ky-labo/ansible_driver/legacy/ns/mainmenu/01_browse.php>`__\ の「代入値管理」メニュー）で、ほかのオペレーションIDのものとして登録した「具体値」を代入して実行することができます。

   Conductorクラス編集画面で個別指定したオペレーションIDはConductor登録/更新ボタンにより設定が保存されます。

   また、Conductor実行画面でも実行前に個別指定ができ、既にConductorクラス編集メニューで個別指定登録をして保存されているオペレーションIDについても更に変更を行いConductor実行することができます。

   ただし、Conductor実行画面で個別指定したオペレーションIDは実行時のみの反映となり、設定は保存されません。

   同じMovementを流用し、別なサーバを操作したい時などにご活用ください。

-  Skipついて

..

   Skipのチェックを変更することができます。

   Conductorクラス編集画面でDefault
   Skipの設定は登録/更新ボタンにより設定が保存されます。

   また、Conductor実行画面でも実行前に個別指定ができ、既にConductorクラス編集メニューで保存されているSkipについて変更を行いConductor実行することができます。

   ただし、Conductor実行画面では実行時のみの反映となり、設定は保存されません。

   一時的に、処理を飛ばして、又は実施して、作業実行したい時などにご活用ください。

-  実行する作業のアクセス権限について

..

   「Cnductor実行」メニューに表示された「Movement」および「Conductor
   Call」「Symphony
   Call」内で呼び出されるすべての作業および個別指定されたオペレーションについて、アクセス権限が無い対象が一つでも含まれている場合は「実行」ボタンを押下した際にバリデーションエラーになります。

Conductor作業確認
~~~~~~~~~~~~~~~~~

(1) 「Conductor
    作業確認」メニューでは、Conductorの実行状態を表示します。

-  *「4.1.7Conductor作業一覧*\ 」の「詳細」ボタンを押下すると、選択したConductor作業の処理状況をモニター表示します。状況に応じて「予約取消」、「停止解除」や「緊急停止」の投入が可能です。

-  Nodeを選択すると、画面右側のタブ名が「Node」となり、実行状況を表示します。

-  実行中以降のステータスになっている実行状況サークルを押下すると、各ドライバの「作業状態確認」メニューに遷移し作業実行状況の詳細を確認することが可能です。

-  「Movement」、「Conductor Call」、「Symphony
   Call」のNodeについては、「Node」タブ内の「Operation
   status」からも「作業状態確認」メニューに遷移できます。

-  「Movement」、「Conductor Call」、「Symphony
   Call」のNodeでのエラーが発生した場合、ログにメッセージが表示されます。

-  .. image:: ./conductor/image49.png
      :width: 7.44902in
      :height: 3.65242in

図 4.1- 29 「Conductor作業確認」メニュー

-  「Conductor作業実行」メニューで実行した、作業実行済みのConductorを「Conductorクラス編集」メニューで編集すると、作業実行時のConductorと異なる状態となるため「詳細」ボタンを押下しても処理状況が表示されない場合があります。

..

   作業実行済みのConductorを編集して再度実行する場合は、「Conductorクラス編集」メニューの「流用新規」ボタンにて、別のConductorを作成してご利用いただくことを推奨します。

-  選択したConductor作業に予約日時が設定されていて、かつ未実行の場合は、「予約取消」ボタンが表示されます。

-  「予約取消」ボタンを押下すると、「\ *4.1.7Conductor作業一覧*\ 」で確認できるステータスが「予約取消」となり、実行されなくなります。

.. image:: ./conductor/image50.png
   :width: 6.87617in
   :height: 3.21011in

図 4.1- 30 「Conductor作業確認」メニューの「予約取消」ボタン

.. image:: ./conductor/image49.png
   :width: 6.69236in
   :height: 3.2811in

図 4.1- 31 「Conductor作業確認」メニューの「停止解除」（Node：Conductor
pause）

.. image:: ./conductor/image49.png
   :width: 6.69236in
   :height: 3.2811in

図 4.1- 32 「Conductor作業確認」メニューの「緊急停止」ボタン

-  「Conductor作業確認」メニューの共通項目は以下のとおりです。

表 4.1- 22　「Conductor作業確認」メニュー項目一覧

+---------+---------------------------+------+------+-----------------+
| *       | **説明**                  | **入 | **入 | **制約事項**    |
| *項目** |                           | 力** | 力** |                 |
|         |                           |      |      |                 |
|         |                           | **必 | **形 |                 |
|         |                           | 須** | 式** |                 |
+=========+===========================+======+======+=================+
| 停      | 一時停止を解除します。    | -    | ボ   | -               |
| 止解除  |                           |      | タン |                 |
+---------+---------------------------+------+------+-----------------+
| 緊      | Cond                      | -    | ボ   | -               |
| 急停止  | uctorの実行を中止します。 |      | タン |                 |
+---------+---------------------------+------+------+-----------------+
| 予      | Conductorの               | -    | ボ   | 予約日時が設定  |
| 約取消  | 実行予約を取り消します。  |      | タン | されていて、か  |
|         |                           |      |      | つ未実行の場合  |
|         |                           |      |      | に表示される。  |
+---------+---------------------------+------+------+-----------------+

(2) 「Conductor
    作業確認」メニューでは、Conductorの実行状態を表示します。

-  画面右側上部の領域には、選択しているNodeの詳細情報が表示されます。

-  選択しているNodeによってタブの名称が変わります。

i. 「Conductor名称」タブ

-  Node未選択の場合表示されます。

-  タブ内の項目は以下の通りです。

-  表 4.1- 23 「Conductor名称」タブ

+-----------------------+----------------------------------------------+
| **項目**              | **説明**                                     |
+=======================+==============================================+
| Conductor instance    | ConductorインスタンスID                      |
| ID　                  | Conductorインス                              |
|                       | タンスに対応した一意のIDが自動採番されます。 |
+-----------------------+----------------------------------------------+
| Conductor name        | Conductor名称                                |
|                       | 実行中のConductorクラス名称を表示します。    |
+-----------------------+----------------------------------------------+
| Status                | | ステータス                                 |
|                       | |                                            |
|                       |  実行中のConductorのステータスを表示します。 |
|                       | | ステータスには以下の状態が存在します。     |
|                       |                                              |
|                       | ・未実行                                     |
|                       |                                              |
|                       | ・未実行(予約)                               |
|                       |                                              |
|                       | ・実行中                                     |
|                       |                                              |
|                       | ・実行中(遅延)                               |
|                       |                                              |
|                       | ・正常終了                                   |
|                       |                                              |
|                       | ・緊急停止                                   |
|                       |                                              |
|                       | ・異常終了                                   |
|                       |                                              |
|                       | ・想定外エラー                               |
|                       |                                              |
|                       | ・予約取消"                                  |
+-----------------------+----------------------------------------------+
| Pause Status          | 保留ステータス                               |
|                       | 実行中のConductorがConductor                 |
|                       | pauseにより一時停                            |
|                       | 止している場合、「一時停止中」を表示します。 |
|                       | また、Conductor                              |
|                       | callで呼び出されたCon                        |
|                       | ductorが一時停止している場合にも表示します。 |
|                       | 一時停止を解除すると、空欄になります。       |
+-----------------------+----------------------------------------------+
| Start time            | 開始日時                                     |
|                       | 実行開始日時を表示します。                   |
+-----------------------+----------------------------------------------+
| End time              | 終了日時                                     |
|                       | 実行終了日時を表示します。                   |
+-----------------------+----------------------------------------------+
| Execution user        | 実行ユーザ                                   |
|                       | Conductorを実行したユーザを表示します。      |
+-----------------------+----------------------------------------------+
| Reservation date      | 予約日時                                     |
|                       | 予約中のConductorの実行日時を表示します。    |
+-----------------------+----------------------------------------------+
| Emergency stop        | 緊急停止発令フラグ                           |
|                       | 実                                           |
|                       | 行中のConductorが緊急停止された場合「発令済  |
|                       | 」、それ以外の場合は「未発令」を表示します。 |
+-----------------------+----------------------------------------------+
| Note                  | 備考                                         |
|                       | C                                            |
|                       | onductorに対する説明やコメントを表示します。 |
+-----------------------+----------------------------------------------+

..

   .. image:: ./conductor/image51.png
      :width: 3.32338in
      :height: 4.05265in

図 4.1- 33 「Conductor名称」タブ

ii. 「Node」タブ

-  Nodeを選択した場合表示されます。

-  タブ内の項目は以下の通りです。

-  表 4.1- 24 「Node名称」タブ

+-----------+--------------+------------------------------------------+
| **項目**  |              | **説明**                                 |
+===========+==============+==========================================+
| Node      |              | Nodeの種類を表示します。                 |
| type　    |              |                                          |
+-----------+--------------+------------------------------------------+
| Node      |              | Nodeインスタン                           |
| Instance  |              | スに対応した一意のIDが自動採番されます。 |
| ID        |              |                                          |
+-----------+--------------+------------------------------------------+
| Node name |              | Nodeクラスの名前を表示します。           |
+-----------+--------------+------------------------------------------+
| Status    |              | | 実行中のNodeのステータスを表示します。 |
|           |              | | ステータスには以下の状態が存在します。 |
|           |              |                                          |
|           |              | ・未実行                                 |
|           |              |                                          |
|           |              | ・準備中                                 |
|           |              |                                          |
|           |              | ・実行中                                 |
|           |              |                                          |
|           |              | ・実行中(遅延)                           |
|           |              |                                          |
|           |              | ・実行完了                               |
|           |              |                                          |
|           |              | ・異常終了                               |
|           |              |                                          |
|           |              | ・緊急停止                               |
|           |              |                                          |
|           |              | ・保留中                                 |
|           |              |                                          |
|           |              | ・正常終了                               |
|           |              |                                          |
|           |              | ・準備エラー                             |
|           |              |                                          |
|           |              | ・想定外エラー                           |
|           |              |                                          |
|           |              | ・Skip 完了                              |
|           |              |                                          |
|           |              | ・Skip後保留中                           |
|           |              |                                          |
|           |              | ・Skip完了                               |
|           |              |                                          |
|           |              | ・警告終了                               |
+-----------+--------------+------------------------------------------+
| Status    |              | 選択したNodeがMovementの場合、Status     |
| file      |              | fileの値を表示します。                   |
+-----------+--------------+------------------------------------------+
| Start     |              | 実行開始日時を表示します。               |
| time      |              |                                          |
+-----------+--------------+------------------------------------------+
| End time  |              | 実行終了日時を表示します。               |
+-----------+--------------+------------------------------------------+
| Operation |              | 実行中のConductor,Symphony,Movementの    |
| status    |              | 作業状態確認画面へのリンクを表示します。 |
+-----------+--------------+------------------------------------------+
| Specified | Operation ID | Move                                     |
| ind       |              | ment毎に指定された個別のオペレーションID |
| ividually |              |                                          |
| operation |              |                                          |
+-----------+--------------+------------------------------------------+
|           | Operation    | Move                                     |
|           | Name         | ment毎に指定された個別のオペレーション名 |
+-----------+--------------+------------------------------------------+
| Note      |              | Nodeに対する説明やコメントを表示します。 |
+-----------+--------------+------------------------------------------+

..

   .. image:: ./conductor/image52.png
      :width: 3.00042in
      :height: 4.3131in

図 4.1- 34 「Node名称」タブ

Conductor作業一覧
~~~~~~~~~~~~~~~~~

(1) [Conductor
    作業一覧]画面では、実行済みのConductorの作業を管理します。

条件を指定し「フィルタ」ボタンをクリックすると、作業一覧テーブルを表示します。

作業表示欄の「詳細」ボタンをクリックすると、「\ *4.1.5
Conductor作業実行*

(2) 

-  
-  

-  

-  
-  
-  
-  

-  

-  
-  
-  
-  
-  

-  
-  

-  

| 「Conductor
  作業実行」メニューでは、Conductor実行の指示を行います。「Conductor[一覧]」サブメニューには、「4.1.3
  *Conductorクラス一覧」で登録したConductorが表示されます。*\ 「オペレーション[一覧]」サブメニューには、「基本コンソール」メニューグループ
  >
  「オペレーション一覧」メニューで登録したオペレーションが表示されます。別紙、「利用手順マニュアル
  基本コンソール」を参照。「Conductor[一覧]」サブメニュー及び「オペレーション[一覧]」サブメニューのラジオボタンからそれぞれ選択し「実行」ボタンを押下すると「4.1.6
  **Conductor作業確認」に遷移し、作業のトレースが始まります。「スケジューリング」サブメニューにて予約日時を入力して「実行」ボタンを押下すると、作業予約が作られます。登録情報は「4.1.7**
  Conductor作業一覧」で確認できます。現在時刻より過去の日時は入力できません\ *Movement、Conductor*
  Call、Symphony CallのOperation,
  skipのみ、設定値を変更可能です。Conductor編集で登録したデータへ変更は反映されません。作業実行にのみ反映されます。実行したConductorに設定されるアクセス権について、実行時に選択したConductor、オペレーションに設定されたアクセス権の共通するロールを継承します。共通するロールが存在しない場合、作業実行できません。\ |image19|\ 図
  4.1- 28 「Conductor作業実行」メニュー
| 「Conductor実行」メニューの共通項目は以下のとおりです。

表 4.1- 21　「Conductor実行」共通項目一覧

+--------------+------------------------------+----+------+-----------+
| **項目**     | **説明**                     | ** | **入 | **制      |
|              |                              | 入 | 力** | 約事項**  |
|              |                              | 力 |      |           |
|              |                              | ** | **形 |           |
|              |                              |    | 式** |           |
|              |                              | ** |      |           |
|              |                              | 必 |      |           |
|              |                              | 須 |      |           |
|              |                              | ** |      |           |
+==============+==============================+====+======+===========+
| 予約日時     | Conductor                    | -  | 手動 | 現在時刻  |
|              | の実行予定日時を指定します。 |    | 入力 | より過去  |
|              |                              |    |      | の日時は  |
|              |                              |    |      | 入力不可  |
+--------------+------------------------------+----+------+-----------+
| Con          | 「4.1.7C                     | ○  | ラ   |           |
| ductor[一覧] | onductorクラス一覧」で登録し |    | ジオ |           |
|              | たConductorが表示されます。  |    |      |           |
|              |                              |    | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| オペレー     | 「4.1.4投入オペ              | ○  | ラ   |           |
| ション[一覧] | レーション一覧」で登録したオ |    | ジオ |           |
|              | ペレーションが表示されます。 |    |      |           |
|              |                              |    | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| Skip         | 対象作業をスキッ             | -  | チェ |           |
|              | プする場合にチェックします。 |    | ック |           |
|              |                              |    |      |           |
|              | ※以下「オペレ                |    | ボッ |           |
|              | ーションの指定について」参照 |    | クス |           |
+--------------+------------------------------+----+------+-----------+
| Operation    | ※以下「オペレ                | -  | 手動 |           |
|              | ーションの指定について」参照 |    | 入力 |           |
+--------------+------------------------------+----+------+-----------+
| Notice       | 通知の設定を確認できます。   | -  | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| 実行         | 登録                         | ○  | ボ   |           |
|              | したConductorを実行します。  |    | タン |           |
+--------------+------------------------------+----+------+-----------+

-  

..

   オペレーションの指定について「Operation欄のselect」をクリックすると、Operationのリストが表示されます。

   | 画面のラジオボタンで指定したオペレーションのオペレーションIDとは別のオペレーションを指定することができます。
   | これにより、そのMovementの属するオーケストレータの「代入値管理」メニュー（例：
     ITAAnsible-Legacyコンソールの「代入値管理」メニュー）で、ほかのオペレーションIDのものとして登録した「具体値」を代入して実行することができます。

   Conductorクラス編集画面で個別指定したオペレーションIDはConductor登録/更新ボタンにより設定が保存されます。

   また、Conductor実行画面でも実行前に個別指定ができ、既にConductorクラス編集メニューで個別指定登録をして保存されているオペレーションIDについても更に変更を行いConductor実行することができます。

   ただし、Conductor実行画面で個別指定したオペレーションIDは実行時のみの反映となり、設定は保存されません。

   同じMovementを流用し、別なサーバを操作したい時などにご活用ください。

-  

..

   SkipついてSkipのチェックを変更することができます。

   Conductorクラス編集画面でDefault
   Skipの設定は登録/更新ボタンにより設定が保存されます。

   また、Conductor実行画面でも実行前に個別指定ができ、既にConductorクラス編集メニューで保存されているSkipについて変更を行いConductor実行することができます。

   ただし、Conductor実行画面では実行時のみの反映となり、設定は保存されません。

   一時的に、処理を飛ばして、又は実施して、作業実行したい時などにご活用ください。

-  

..

   実行する作業のアクセス権限について「Cnductor実行」メニューに表示された「Movement」および「Conductor
   Call」「Symphony
   Call」内で呼び出されるすべての作業および個別指定されたオペレーションについて、アクセス権限が無い対象が一つでも含まれている場合は「実行」ボタンを押下した際にバリデーションエラーになります。

Conductor作業確認」画面に遷移します。

「投入データ一式(zip)」の「download(.zip)」をクリックすると、実行された全てのConductor配下のMovement(*)の実行ファイルなどをまとめてダウンロードすることができます。

「結果データ一式(zip)」の「download(.zip)」をクリックすると、実行された全てのConductor配下のMovement(*)の実行ログ、エラーログなどをまとめてダウンロードすることができます。

| 通知ログ欄から、通知の実行ログをダウンロードすることができます。
| ログの出力例は、「5.1.2通知ログ出力例」を参照してください。

(*)Conductorが階層構造になっている場合は、末端のMovementも対象になります。

.. image:: ./conductor/image53.png
   :width: 6.94959in
   :height: 3.323in

図 4.1- 34 「Conductor作業一覧」メニュー

Conductor定期作業実行
~~~~~~~~~~~~~~~~~~~~~

(1) [定期作業実行]画面では、スケジュールに従って定期的に実行するConductor作業を管理します。

一覧の「作業一覧確認」ボタンをクリックすると、その定期作業で実行した対象をフィルタした状態で「\ *4.1.7Conductor作業一覧*\ 」へ遷移できます。

Conductor名称欄のリンクをクリックすると、対象の「\ *4.1.4
Conductorクラス編集*\ 」へ遷移できます。

.. image:: ./conductor/image54.png
   :width: 6.54723in
   :height: 2.93359in

図 4.1- 35 「Conductor定期作業実行」メニュー

(2) 「登録」-「登録開始」ボタンより、定期作業実行の登録を行います。

スケジュールの詳細は「スケジュール設定」ボタンをクリックすることで表示されるウインドウからのみ設定できます。

.. image:: ./conductor/image55.png
   :width: 4.22917in
   :height: 3.69697in

図 4.1- 36 「スケジュール設定」ウインドウ

(3) 登録画面の項目一覧は以下のとおりです

表 4.1- 23　登録画面項目一覧（定期作業実行）

+--------+------+----------------------------+----+------+------------+
| **     |      | **説明**                   | ** | **入 | **         |
| 項目** |      |                            | 入 | 力形 | 制約事項** |
|        |      |                            | 力 | 式** |            |
|        |      |                            | ** |      |            |
|        |      |                            |    |      |            |
|        |      |                            | ** |      |            |
|        |      |                            | 必 |      |            |
|        |      |                            | 須 |      |            |
|        |      |                            | ** |      |            |
+========+======+============================+====+======+============+
| Condu  |      | *「4.1.3Conductorクラス    | ○  | リ   | -          |
| ctorク |      | 一覧*\ 」で登録したConduct |    | スト |            |
| ラス名 |      | orがリストに表示されます。 |    | 選択 |            |
+--------+------+----------------------------+----+------+------------+
| オペ   |      | 「基本コンソ               | ○  | リ   | -          |
| レーシ |      | ール-投入オペレーション一  |    | スト |            |
| ョン名 |      | 覧」で登録したオペレーショ |    | 選択 |            |
|        |      | ンがリストに表示されます。 |    |      |            |
+--------+------+----------------------------+----+------+------------+
| ステ   |      | 下記「\ *表4.2             | -  | 自動 | -          |
| ータス |      | 11　ステータス一覧         |    | 入力 |            |
|        |      | （定期作業実行）*\ 」参照  |    |      |            |
+--------+------+----------------------------+----+------+------------+
| 実行   |      | 「                         | -  | 自動 |            |
| ユーザ |      | 登録」「更新」を実行したユ |    | 入力 |            |
|        |      | ーザがConductorを実行する  |    |      |            |
|        |      | ユーザとして登録されます。 |    |      |            |
|        |      |                            |    |      |            |
|        |      | 定期                       |    |      |            |
|        |      | 作業実行が「\ *4.1.7Conduc |    |      |            |
|        |      | tor作業一覧*\ 」へ作業登録 |    |      |            |
|        |      | をする際、「実行ユーザ」が |    |      |            |
|        |      | 引き継がれて登録されます。 |    |      |            |
|        |      |                            |    |      |            |
|        |      | 「実行ユーザ               |    |      |            |
|        |      | 」が指定した「Conductorク  |    |      |            |
|        |      | ラス名」を実行できない場合 |    |      |            |
|        |      | （Conductorで実行されるMo  |    |      |            |
|        |      | vementのアクセス権限を持っ |    |      |            |
|        |      | ていない等）、ステータス「 |    |      |            |
|        |      | 紐付けエラー」となります。 |    |      |            |
+--------+------+----------------------------+----+------+------------+
| スケ   |      | 詳細なスケジ               | -  | -    | -          |
| ジュー |      | ュールを設定するウインドウ |    |      |            |
| ル設定 |      | をオープンするボタンです。 |    |      |            |
+--------+------+----------------------------+----+------+------------+
| スケジ | 次回 | 登録完了                   | -  | 自動 | -          |
| ュール |      | 後にスケジュール設定に基づ |    | 入力 |            |
|        | 実行 | いて、次に作業を実行する日 |    |      |            |
|        | 日付 | 付が自動的に更新されます。 |    |      |            |
+--------+------+----------------------------+----+------+------------+
|        | 開始 | 定期作業実行を             | ○  | 手動 | スケジ     |
|        | 日付 | 開始する日付を入力します。 |    | 入力 | ュール設定 |
|        |      |                            |    |      |            |
|        |      | 「次回実                   |    |      | からの     |
|        |      | 行日付」は必ず「開始日付」 |    |      | み入力可能 |
|        |      | 以降の日付で更新されます。 |    |      |            |
+--------+------+----------------------------+----+------+------------+
|        | 終了 | 定期作業実行を             | -  | 手動 | スケジ     |
|        | 日付 | 終了する日付を入力します。 |    | 入力 | ュール設定 |
|        |      |                            |    |      |            |
|        |      | 「次回実行日付」が「終了   |    |      | からの     |
|        |      | 日付」を超えた場合にステー |    |      | み入力可能 |
|        |      | タスが「完了」となります。 |    |      |            |
+--------+------+----------------------------+----+------+------------+
|        | 周期 | 定期的に                   | ○  | ラ   | スケジ     |
|        |      | 実行する周期を選択します。 |    | ジオ | ュール設定 |
|        |      |                            |    |      |            |
|        |      | 「時」「日」「週」「       |    | ボ   | からの     |
|        |      | 月(日付指定)」「月(曜日指  |    | タン | み入力可能 |
|        |      | 定)」「月末」があります。  |    |      |            |
+--------+------+----------------------------+----+------+------------+
|        | 間隔 | 設定し                     | ○  | 手動 | スケジ     |
|        |      | た周期に基づいた、定期的に |    | 入力 | ュール設定 |
|        |      | 実行する間隔を入力します。 |    |      |            |
|        |      |                            |    |      | からの     |
|        |      |                            |    |      | み入力可能 |
+--------+------+----------------------------+----+------+------------+
|        | 週   | 周期で「月(曜日指定)」     | ※1 | リ   | スケジ     |
|        | 番号 | を選択した場合に利用する、 |    | スト | ュール設定 |
|        |      |                            |    | 選択 |            |
|        |      | 定期的に実                 |    |      | からの     |
|        |      | 行する週番号を選択します。 |    |      | み入力可能 |
+--------+------+----------------------------+----+------+------------+
|        | 曜日 | 周期で「曜日               | ※2 | リ   | スケジ     |
|        |      | 」「月(曜日指定)」を選択し |    | スト | ュール設定 |
|        |      | た場合に利用する、定期的に |    | 選択 |            |
|        |      | 実行する曜日を選択します。 |    |      | からの     |
|        |      |                            |    |      | み入力可能 |
+--------+------+----------------------------+----+------+------------+
|        | 日   | 周期で                     | ※3 | 手動 | スケジ     |
|        |      | 「月(日付指定)」を選択した |    | 入力 | ュール設定 |
|        |      | 場合に利用する、定期的に実 |    |      |            |
|        |      | 行する日にちを入力します。 |    |      | からの     |
|        |      |                            |    |      | み入力可能 |
+--------+------+----------------------------+----+------+------------+
|        | 時間 | 定期的に                   | ※4 | 手動 | スケジ     |
|        |      | 実行する時間を入力します。 |    | 入力 | ュール設定 |
|        |      |                            |    |      |            |
|        |      |                            |    |      | からの     |
|        |      |                            |    |      | み入力可能 |
+--------+------+----------------------------+----+------+------------+
| 作     | 開始 | 作業停止期                 | ※5 | 手動 | スケジ     |
| 業停止 |      | 間の開始日付を入力します。 |    | 入力 | ュール設定 |
|        |      |                            |    |      |            |
| 期間   |      | 開始日                     |    |      | からの     |
|        |      | 付以降から終了日付以前まで |    |      | み入力可能 |
|        |      | の間、Conductor作業登録が  |    |      |            |
|        |      | 実行されないようにします。 |    |      |            |
+--------+------+----------------------------+----+------+------------+
|        | 終了 | 作業停止期                 | ※5 | 手動 | スケジ     |
|        |      | 間の終了日付を入力します。 |    | 入力 | ュール設定 |
|        |      |                            |    |      |            |
|        |      | 開始日                     |    |      | からの     |
|        |      | 付以降から終了日付以前まで |    |      | み入力可能 |
|        |      | の間、Conductor作業登録が  |    |      |            |
|        |      | 実行されないようにします。 |    |      |            |
+--------+------+----------------------------+----+------+------------+
| 備考   |      | 自由記述欄です             | -  | 手動 | -          |
|        |      |                            |    | 入力 |            |
+--------+------+----------------------------+----+------+------------+

※1 週番号は周期に「月(曜日指定)」を選択した場合は必須です。

※2 曜日は周期に「月(曜日指定)」を選択した場合は必須です。

※3 日は周期に「月(日付指定)」を選択した場合は必須です。

※4
時間は周期に「日」「週」「月(日付指定)」「月(曜日指定)」「月末」を選択した場合は必須です。

※5
作業停止期間を設定する場合は「開始」と「終了」両方が入力されていることが必須です。

表 4.1- 24　ステータス一覧（定期作業実行）

+---------------+------------------------------------------------------+
| **ス          | **説明**                                             |
| テータス名**  |                                                      |
+===============+======================================================+
| 準備中        | 登録した直後のステータスです。                       |
|               |                                                      |
|               | backyardが「次回実行日                               |
|               | 付」を自動更新するタイミングで「稼働中」になります。 |
+---------------+------------------------------------------------------+
| 稼働中        | 正常稼働中のステータスです。                         |
|               |                                                      |
|               | 「次回実行日付」の3分前に「\ *4.1.7Co                |
|               | nductor作業一覧*\ 」への作業登録を実行し、再びスケジ |
|               | ュール設定に基づいて「次回実行日付」が更新されます。 |
+---------------+------------------------------------------------------+
| 完了          | 「次回実行日付」が「終了日付」を超えた場合になるス   |
|               | テータスです。以降はConductor作業登録を行いません。  |
+---------------+------------------------------------------------------+
| 不整合エラー  | スケジ                                               |
|               | ュールの設定値に不正がある場合になるステータスです。 |
+---------------+------------------------------------------------------+
| 紐付けエラー  | 「\ *4.1.7Conductor作業一覧*                         |
|               | \ 」への作業登録が失敗した場合になるステータスです。 |
|               |                                                      |
|               | ステータス「稼働中」同様                             |
|               | 、「\ *4.1.7Conductor作業一覧*\ 」への作業登録を実行 |
|               | し、再びスケジュール設定に基づいて「次回実行日付」を |
|               | 更新するという動作をします。その際再び作業登録が失敗 |
|               | した場合、ステータス「紐付けエラー」が継続されます。 |
+---------------+------------------------------------------------------+
| 想定外エラー  | ステータス「不整合エラー」「紐付けエラ               |
|               | ー」以外の不具合が発生した場合になるステータスです。 |
+---------------+------------------------------------------------------+
| Conductor廃止 | 登録したConductorが廃止され                          |
|               | た場合になるステータスです。廃止されたConductorを復  |
|               | 活させた場合はステータス「準備中」へと更新されます。 |
+---------------+------------------------------------------------------+
| operation廃止 | 登録したoperationが廃止され                          |
|               | た場合になるステータスです。廃止されたoperationを復  |
|               | 活させた場合はステータス「準備中」へと更新されます。 |
+---------------+------------------------------------------------------+

(4) 定期作業実行に登録した直後はステータスが「準備中」となり、その後backyardがスケジュール設定に基づいて「次回実行日付」を更新し、そのタイミングでステータスは「稼働中」となります。

ステータスが「稼働中」か「紐付けエラー」の作業は「次回実行日付」より「Symphony
/ Conductor
インターバル時間設定」に登録されている時間前に「\ *4.1.7Conductor作業一覧*\ 」への作業登録を実行し、再びスケジュール設定に基づいて「次回実行日付」が更新されます。

「\ *Symphony / Conductor インターバル時間設定*\ 」

管理コンソール＞システム設定メニューより、「次回実行日付」の何分前に作業登録を実行するか設定可能です。（Exastro-ITA_利用手順マニュアル_管理コンソール参照）

※一時停止を設定しているConductorを定期作業実行に登録した場合、作業登録後に「\ *4.1.5
Conductor作業実行*

(3) 

-  
-  

-  

-  
-  
-  
-  

-  

-  
-  
-  
-  
-  

-  
-  

-  

| 「Conductor
  作業実行」メニューでは、Conductor実行の指示を行います。「Conductor[一覧]」サブメニューには、「4.1.3
  *Conductorクラス一覧」で登録したConductorが表示されます。*\ 「オペレーション[一覧]」サブメニューには、「基本コンソール」メニューグループ
  >
  「オペレーション一覧」メニューで登録したオペレーションが表示されます。別紙、「利用手順マニュアル
  基本コンソール」を参照。「Conductor[一覧]」サブメニュー及び「オペレーション[一覧]」サブメニューのラジオボタンからそれぞれ選択し「実行」ボタンを押下すると「4.1.6
  **Conductor作業確認」に遷移し、作業のトレースが始まります。「スケジューリング」サブメニューにて予約日時を入力して「実行」ボタンを押下すると、作業予約が作られます。登録情報は「4.1.7**
  Conductor作業一覧」で確認できます。現在時刻より過去の日時は入力できません\ *Movement、Conductor*
  Call、Symphony CallのOperation,
  skipのみ、設定値を変更可能です。Conductor編集で登録したデータへ変更は反映されません。作業実行にのみ反映されます。実行したConductorに設定されるアクセス権について、実行時に選択したConductor、オペレーションに設定されたアクセス権の共通するロールを継承します。共通するロールが存在しない場合、作業実行できません。\ |image20|\ 図
  4.1- 28 「Conductor作業実行」メニュー
| 「Conductor実行」メニューの共通項目は以下のとおりです。

表 4.1- 21　「Conductor実行」共通項目一覧

+--------------+------------------------------+----+------+-----------+
| **項目**     | **説明**                     | ** | **入 | **制      |
|              |                              | 入 | 力** | 約事項**  |
|              |                              | 力 |      |           |
|              |                              | ** | **形 |           |
|              |                              |    | 式** |           |
|              |                              | ** |      |           |
|              |                              | 必 |      |           |
|              |                              | 須 |      |           |
|              |                              | ** |      |           |
+==============+==============================+====+======+===========+
| 予約日時     | Conductor                    | -  | 手動 | 現在時刻  |
|              | の実行予定日時を指定します。 |    | 入力 | より過去  |
|              |                              |    |      | の日時は  |
|              |                              |    |      | 入力不可  |
+--------------+------------------------------+----+------+-----------+
| Con          | 「4.1.7C                     | ○  | ラ   |           |
| ductor[一覧] | onductorクラス一覧」で登録し |    | ジオ |           |
|              | たConductorが表示されます。  |    |      |           |
|              |                              |    | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| オペレー     | 「4.1.4投入オペ              | ○  | ラ   |           |
| ション[一覧] | レーション一覧」で登録したオ |    | ジオ |           |
|              | ペレーションが表示されます。 |    |      |           |
|              |                              |    | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| Skip         | 対象作業をスキッ             | -  | チェ |           |
|              | プする場合にチェックします。 |    | ック |           |
|              |                              |    |      |           |
|              | ※以下「オペレ                |    | ボッ |           |
|              | ーションの指定について」参照 |    | クス |           |
+--------------+------------------------------+----+------+-----------+
| Operation    | ※以下「オペレ                | -  | 手動 |           |
|              | ーションの指定について」参照 |    | 入力 |           |
+--------------+------------------------------+----+------+-----------+
| Notice       | 通知の設定を確認できます。   | -  | ボ   |           |
|              |                              |    | タン |           |
+--------------+------------------------------+----+------+-----------+
| 実行         | 登録                         | ○  | ボ   |           |
|              | したConductorを実行します。  |    | タン |           |
+--------------+------------------------------+----+------+-----------+

-  

..

   オペレーションの指定について「Operation欄のselect」をクリックすると、Operationのリストが表示されます。

   | 画面のラジオボタンで指定したオペレーションのオペレーションIDとは別のオペレーションを指定することができます。
   | これにより、そのMovementの属するオーケストレータの「代入値管理」メニュー（例：
     ITAAnsible-Legacyコンソールの「代入値管理」メニュー）で、ほかのオペレーションIDのものとして登録した「具体値」を代入して実行することができます。

   Conductorクラス編集画面で個別指定したオペレーションIDはConductor登録/更新ボタンにより設定が保存されます。

   また、Conductor実行画面でも実行前に個別指定ができ、既にConductorクラス編集メニューで個別指定登録をして保存されているオペレーションIDについても更に変更を行いConductor実行することができます。

   ただし、Conductor実行画面で個別指定したオペレーションIDは実行時のみの反映となり、設定は保存されません。

   同じMovementを流用し、別なサーバを操作したい時などにご活用ください。

-  

..

   SkipついてSkipのチェックを変更することができます。

   Conductorクラス編集画面でDefault
   Skipの設定は登録/更新ボタンにより設定が保存されます。

   また、Conductor実行画面でも実行前に個別指定ができ、既にConductorクラス編集メニューで保存されているSkipについて変更を行いConductor実行することができます。

   ただし、Conductor実行画面では実行時のみの反映となり、設定は保存されません。

   一時的に、処理を飛ばして、又は実施して、作業実行したい時などにご活用ください。

-  

..

   実行する作業のアクセス権限について「Cnductor実行」メニューに表示された「Movement」および「Conductor
   Call」「Symphony
   Call」内で呼び出されるすべての作業および個別指定されたオペレーションについて、アクセス権限が無い対象が一つでも含まれている場合は「実行」ボタンを押下した際にバリデーションエラーになります。

Conductor作業確認」より「保留解除」の投入を行わないと「\ *4.1.7Conductor作業一覧*\ 」にステータス「実行中」で残り続けます。

付録
====

.. _conductor通知先定義-1:

Conductor通知先定義
-------------------

Conductor通知先定義設定例
~~~~~~~~~~~~~~~~~~~~~~~~~

■Teams設定例

+--------------------+-------------------------------------------------+
| 通知名称           | 通知サンプル                                    |
+====================+=================================================+
| 通                 | 通知先のTeamsのWebhook URLを入力してください。  |
| 知先(CURLOPT_URL)  |                                                 |
+--------------------+-------------------------------------------------+
| ヘッダー(C         | [ "Content-Type: application/json" ]            |
| URLOPT_HTTPHEADER) |                                                 |
+--------------------+-------------------------------------------------+
| メッセージ(C       | {"text": "通知名：__NOTICE_NAME__, <br>         |
| URLOPT_POSTFIELDS) | Conductor名称: \__CONDUCTOR_NAME__, <br>        |
|                    | Con                                             |
|                    | ductorインスタンスID:__CONDUCTOR_INSTANCE_ID__, |
|                    | <br> オペレーションID: \__OPERATION_ID__,       |
|                    | <br>オペレーション名:__OPERATION_NAME__,        |
|                    | <br>ステータスID: \__STATUS_ID__,               |
|                    | <br>ステータス: \__STATUS_NAME__,               |
|                    | <br>実行ユーザー: \__EXECUTION_USER__, <br>     |
|                    | 予約日時: \__TIME_BOOK__, <br>開始日時:         |
|                    | \__TIME_START__, <br>終了日時: \__TIME_END__,   |
|                    | <br>緊急停止フラグ: \__ABORT_FLAG__, <br>       |
|                    | 作業URL: \__JUMP_URL__, <br> "}                 |
+--------------------+-------------------------------------------------+
| PROXY / URL        | http://proxy.co.jp                              |
| (CURLOPT_PROXY)    |                                                 |
+--------------------+-------------------------------------------------+
| PROXY / PORT       | 8080                                            |
| (                  |                                                 |
| CURLOPT_PROXYPORT) |                                                 |
+--------------------+-------------------------------------------------+
| 作業確認URL(FQDN)  | http://exastro-it-automation.local              |
+--------------------+-------------------------------------------------+
| その他             |                                                 |
+--------------------+-------------------------------------------------+
| 開始日時           |                                                 |
+--------------------+-------------------------------------------------+
| 終了日時           |                                                 |
+--------------------+-------------------------------------------------+

■Teams通知表示例

.. image:: ./conductor/image56.png
   :width: 5.63889in
   :height: 2.06609in

■Slack設定例

+--------------------+-------------------------------------------------+
| 通知名称           | 通知サンプル                                    |
+====================+=================================================+
| 通                 | 通知先のSlackのWebhook URLを入力してください。  |
| 知先(CURLOPT_URL)  |                                                 |
+--------------------+-------------------------------------------------+
| ヘッダー(C         | [ "Content-Type: application/json" ]            |
| URLOPT_HTTPHEADER) |                                                 |
+--------------------+-------------------------------------------------+
| メッセージ(C       | {                                               |
| URLOPT_POSTFIELDS) |                                                 |
|                    | "username": "ITAConductor実行通知",             |
|                    |                                                 |
|                    | "text": "通知名：__NOTICE_NAME__, \\n           |
|                    | Conductor名称: \__CONDUCTOR_NAME__, \\n         |
|                    | Con                                             |
|                    | ductorインスタンスID:__CONDUCTOR_INSTANCE_ID__, |
|                    | \\n オペレーションID: \__OPERATION_ID__,        |
|                    | \\nオペレーション名:__OPERATION_NAME__,         |
|                    | \\nステータスID: \__STATUS_ID__, \\nステータス: |
|                    | \__STATUS_NAME__, \\n実行ユーザー:              |
|                    | \__EXECUTION_USER__, \\n 予約日時:              |
|                    | \__TIME_BOOK__, \\n開始日時: \__TIME_START__,   |
|                    | \\n終了日時: \__TIME_END__, \\n緊急停止フラグ:  |
|                    | \__ABORT_FLAG__, \\n 作業URL: \__JUMP_URL_\_ "  |
|                    |                                                 |
|                    | }                                               |
+--------------------+-------------------------------------------------+
| PROXY / URL        | http://proxy.co.jp                              |
| (CURLOPT_PROXY)    |                                                 |
+--------------------+-------------------------------------------------+
| PROXY / PORT       | 8080                                            |
| (                  |                                                 |
| CURLOPT_PROXYPORT) |                                                 |
+--------------------+-------------------------------------------------+
| 作業確認URL(FQDN)  | http://exastro-it-automation.local              |
+--------------------+-------------------------------------------------+
| その他             |                                                 |
+--------------------+-------------------------------------------------+
| 開始日時           |                                                 |
+--------------------+-------------------------------------------------+
| 終了日時           |                                                 |
+--------------------+-------------------------------------------------+

■Slack通知表示例

.. image:: ./conductor/image57.png
   :width: 5.75718in
   :height: 1.91408in

■設定サンプル(Proxy設定、通知抑止設定、その他設定あり)

+--------------------+-------------------------------------------------+
| 通知名称           | 通知サンプル                                    |
+====================+=================================================+
| 通                 | https://sample.webhook.xxx.com/yyyyyyyy         |
| 知先(CURLOPT_URL)  |                                                 |
+--------------------+-------------------------------------------------+
| ヘッダー(C         | [ "Content-Type: application/json" ]            |
| URLOPT_HTTPHEADER) |                                                 |
+--------------------+-------------------------------------------------+
| メッセージ(C       | {"text": "通知内容"}                            |
| URLOPT_POSTFIELDS) |                                                 |
+--------------------+-------------------------------------------------+
| PROXY / URL        | http://proxy.co.jp                              |
| (CURLOPT_PROXY)    |                                                 |
+--------------------+-------------------------------------------------+
| PROXY / PORT       | 8080                                            |
| (                  |                                                 |
| CURLOPT_PROXYPORT) |                                                 |
+--------------------+-------------------------------------------------+
| 作業確認URL(FQDN)  | http://exastro-it-automation.local              |
+--------------------+-------------------------------------------------+
| その他             | {"CURLOPT_TIMEOUT":"10"}                        |
+--------------------+-------------------------------------------------+
| 開始日時           | 2020/01/01 00:00:00                             |
+--------------------+-------------------------------------------------+
| 終了日時           | 2020/01/01 00:00:00                             |
+--------------------+-------------------------------------------------+
| 備考               | 自由記述欄です                                  |
+--------------------+-------------------------------------------------+

通知ログ出力例
~~~~~~~~~~~~~~

通知ログの構造

+-----------------------------------------------------------------------+
| YYYY-MM-dd HH:ii:ss 通知実行結果(<ID:通知名称>,<ID:ステータス名称>)   |
|                                                                       |
| Array                                                                 |
|                                                                       |
| (                                                                     |
|                                                                       |
| [RETURN_MSG] =>　 ：通知実行時の返り値                                |
|                                                                       |
| [OPTION] => Array 　　　　　　　　　　　 ：通知実行時のオプション     |
|                                                                       |
| (                                                                     |
|                                                                       |
| [CURLOPT_XXXXXXXX] =>                                                 |
|                                                                       |
| ・・・・・・・・略・・・・・・・・                                    |
|                                                                       |
| )                                                                     |
|                                                                       |
| [RESSULT] => Array ：通知実行結果                                     |
|                                                                       |
| (                                                                     |
|                                                                       |
| [url] => ：通知先URL                                                  |
|                                                                       |
| [http_code] => 　：HTTPステータスコード                               |
|                                                                       |
| ・・・・・・・・略・・・・・・・・                                    |
|                                                                       |
| )                                                                     |
|                                                                       |
| )                                                                     |
+=======================================================================+
+-----------------------------------------------------------------------+

例) 通知実行ログ(正常)

+-----------------------------------------------------------------------+
| 2021-11-05 15:10:22 通知実行結果(2:通知サンプル,5:正常終了)           |
|                                                                       |
| Array                                                                 |
|                                                                       |
| (                                                                     |
|                                                                       |
| [RETURN_MSG] => 1                                                     |
|                                                                       |
| [OPTION] => Array                                                     |
|                                                                       |
| (                                                                     |
|                                                                       |
| [CURLOPT_CUSTOMREQUEST] => POST                                       |
|                                                                       |
| [CURLOPT_HEADER] =>                                                   |
|                                                                       |
| [CURLOPT_SSL_VERIFYPEER] =>                                           |
|                                                                       |
| [CURLOPT_SSL_VERIFYHOST] => 0                                         |
|                                                                       |
| [CURLOPT_TIMEOUT] => 5                                                |
|                                                                       |
| [CURLOPT_CONNECTTIMEOUT] => 2                                         |
|                                                                       |
| [CURLOPT_RETURNTRANSFER] => 1                                         |
|                                                                       |
| [CURLOPT_HTTPPROXYTUNNEL] => 1                                        |
|                                                                       |
| [CURLOPT_URL] => https://sample.webhook.xxx.com/yyyyyyyy              |
|                                                                       |
| [CURLOPT_HTTPHEADER] => Array                                         |
|                                                                       |
| (                                                                     |
|                                                                       |
| [0] => Content-Type: application/json                                 |
|                                                                       |
| )                                                                     |
|                                                                       |
| [CURLOPT_POSTFIELDS] => {"text": "通知名：通知サンプル2, <br>         |
| Conductor名称: NULL, <br> ConductorインスタンスID:3, <br>             |
| オペレーションID: 1, <br>オペレーション名:OP_NULL, <br>ステータスID:  |
| 5, <br>ステータス: 正常終了, <br>実行ユーザー: システム管理者, <br>   |
| 予約日時: , <br>開始日時: 2021/11/05 15:10:08, <br>終了日時:          |
| 2021/11/05 15:10:18, <br>緊急停止フラグ: 未発令, <br> 作業URL:        |
| http://exastro-it-automation.lo                                       |
| cal/default/menu/01_browse.php?no=2100180005&conductor_instance_id=3, |
| <br> "}                                                               |
|                                                                       |
| [CURLOPT_PROXY] => https://sample.proxy.xxx.com                       |
|                                                                       |
| [CURLOPT_PROXYPORT] => 8080                                           |
|                                                                       |
| )                                                                     |
|                                                                       |
| [RESSULT] => Array                                                    |
|                                                                       |
| (                                                                     |
|                                                                       |
| [url] => https://sample.webhook.xxx.com/yyyyyyyy                      |
|                                                                       |
| [content_type] => text/plain; charset=utf-8                           |
|                                                                       |
| [http_code] => 200                                                    |
|                                                                       |
| [header_size] => 834                                                  |
|                                                                       |
| [request_size] => 1005                                                |
|                                                                       |
| [filetime] => -1                                                      |
|                                                                       |
| [ssl_verify_result] => 0                                              |
|                                                                       |
| [redirect_count] => 0                                                 |
|                                                                       |
| [total_time] => 1.519411                                              |
|                                                                       |
| [namelookup_time] => 0.083714                                         |
|                                                                       |
| [connect_time] => 0.107712                                            |
|                                                                       |
| [pretransfer_time] => 0.44203                                         |
|                                                                       |
| [size_upload] => 560                                                  |
|                                                                       |
| [size_download] => 1                                                  |
|                                                                       |
| [speed_download] => 0                                                 |
|                                                                       |
| [speed_upload] => 368                                                 |
|                                                                       |
| [download_content_length] => 1                                        |
|                                                                       |
| [upload_content_length] => 560                                        |
|                                                                       |
| [starttransfer_time] => 1.519364                                      |
|                                                                       |
| [redirect_time] => 0                                                  |
|                                                                       |
| [redirect_url] =>                                                     |
|                                                                       |
| [primary_ip] => XXX.XXX.XXX.XXX                                       |
|                                                                       |
| [certinfo] => Array                                                   |
|                                                                       |
| (                                                                     |
|                                                                       |
| )                                                                     |
|                                                                       |
| [primary_port] => 8080                                                |
|                                                                       |
| [local_ip] => XXX.XXX.XXX.XXX                                         |
|                                                                       |
| [local_port] => 39874                                                 |
|                                                                       |
| )                                                                     |
|                                                                       |
| )                                                                     |
+=======================================================================+
+-----------------------------------------------------------------------+

例) 通知実行ログ(異常)

+-----------------------------------------------------------------------+
| 2021-11-05 15:10:20 通知実行結果(1:通知サンプル,5:正常終了)           |
|                                                                       |
| Array                                                                 |
|                                                                       |
| (                                                                     |
|                                                                       |
| [RETURN_MSG] =>                                                       |
|                                                                       |
| [OPTION] => Array                                                     |
|                                                                       |
| (                                                                     |
|                                                                       |
| [CURLOPT_CUSTOMREQUEST] => POST                                       |
|                                                                       |
| [CURLOPT_HEADER] =>                                                   |
|                                                                       |
| [CURLOPT_SSL_VERIFYPEER] =>                                           |
|                                                                       |
| [CURLOPT_SSL_VERIFYHOST] => 0                                         |
|                                                                       |
| [CURLOPT_TIMEOUT] => 5                                                |
|                                                                       |
| [CURLOPT_CONNECTTIMEOUT] => 2                                         |
|                                                                       |
| [CURLOPT_RETURNTRANSFER] => 1                                         |
|                                                                       |
| [CURLOPT_HTTPPROXYTUNNEL] => 1                                        |
|                                                                       |
| [CURLOPT_URL] => https://sample.webhook.xxx.com/yyyyyyyy              |
|                                                                       |
| [CURLOPT_HTTPHEADER] => Array                                         |
|                                                                       |
| (                                                                     |
|                                                                       |
| [0] => Content-Type: application/json                                 |
|                                                                       |
| )                                                                     |
|                                                                       |
| [CURLOPT_POSTFIELDS] => {"text": "通知名：通知サンプル, <br>          |
| Conductor名称: NULL, <br> ConductorインスタンスID:3, <br>             |
| オペレーションID: 1, <br>オペレーション名:OP_NULL, <br>ステータスID:  |
| 5, <br>ステータス: 正常終了, <br>実行ユーザー: システム管理者, <br>   |
| 予約日時: , <br>開始日時: 2021/11/05 15:10:08, <br>終了日時:          |
| 2021/11/05 15:10:18, <br>緊急停止フラグ: 未発令, <br> 作業URL:        |
| http://exastro-it-automation.lo                                       |
| cal/default/menu/01_browse.php?no=2100180005&conductor_instance_id=3, |
| <br> "}                                                               |
|                                                                       |
| [CURLOPT_PROXY] =>                                                    |
|                                                                       |
| [CURLOPT_PROXYPORT] =>                                                |
|                                                                       |
| )                                                                     |
|                                                                       |
| [RESSULT] => Array                                                    |
|                                                                       |
| (                                                                     |
|                                                                       |
| [url] => https://sample.webhook.xxx.com/yyyyyyyy                      |
|                                                                       |
| [content_type] =>                                                     |
|                                                                       |
| [http_code] => 0                                                      |
|                                                                       |
| [header_size] => 0                                                    |
|                                                                       |
| [request_size] => 0                                                   |
|                                                                       |
| [filetime] => -1                                                      |
|                                                                       |
| [ssl_verify_result] => 0                                              |
|                                                                       |
| [redirect_count] => 0                                                 |
|                                                                       |
| [total_time] => 2.011686                                              |
|                                                                       |
| [namelookup_time] => 0.532318                                         |
|                                                                       |
| [connect_time] => 0                                                   |
|                                                                       |
| [pretransfer_time] => 0                                               |
|                                                                       |
| [size_upload] => 0                                                    |
|                                                                       |
| [size_download] => 0                                                  |
|                                                                       |
| [speed_download] => 0                                                 |
|                                                                       |
| [speed_upload] => 0                                                   |
|                                                                       |
| [download_content_length] => -1                                       |
|                                                                       |
| [upload_content_length] => -1                                         |
|                                                                       |
| [starttransfer_time] => 0                                             |
|                                                                       |
| [redirect_time] => 0                                                  |
|                                                                       |
| [redirect_url] =>                                                     |
|                                                                       |
| [primary_ip] => XXX.XXX.XXX.XXX                                       |
|                                                                       |
| [certinfo] => Array                                                   |
|                                                                       |
| (                                                                     |
|                                                                       |
| )                                                                     |
|                                                                       |
| [primary_port] => 443                                                 |
|                                                                       |
| [local_ip] =>                                                         |
|                                                                       |
| [local_port] => 0                                                     |
|                                                                       |
| )                                                                     |
|                                                                       |
| )                                                                     |
+=======================================================================+
+-----------------------------------------------------------------------+

.. |image1| image:: ./conductor/image7.png
   :width: 1.1811in
   :height: 0.4086in
.. |image2| image:: ./conductor/image8.png
   :width: 1.1811in
   :height: 0.4086in
.. |image3| image:: ./conductor/image9.png
   :width: 1.1811in
   :height: 0.31287in
.. |image4| image:: ./conductor/image10.png
   :width: 1.22047in
   :height: 0.34259in
.. |image5| image:: ./conductor/image11.png
   :width: 1.1811in
   :height: 0.30743in
.. |image6| image:: ./conductor/image12.png
   :width: 1.1811in
   :height: 0.67068in
.. |image7| image:: ./conductor/image13.png
   :width: 1.1811in
   :height: 0.9765in
.. |image8| image:: ./conductor/image14.png
   :width: 1.1811in
   :height: 0.67667in
.. |image9| image:: ./conductor/image15.png
   :width: 1.12963in
   :height: 0.59834in
.. |image10| image:: ./conductor/image16.png
   :width: 1.1811in
   :height: 1.49864in
.. |image11| image:: ./conductor/image37.png
   :width: 0.3937in
   :height: 0.3937in
.. |image12| image:: ./conductor/image38.png
   :width: 0.3937in
   :height: 0.43032in
.. |image13| image:: ./conductor/image39.png
   :width: 0.3937in
   :height: 0.41045in
.. |image14| image:: ./conductor/image40.png
   :width: 0.3937in
   :height: 0.38532in
.. |image15| image:: ./conductor/image41.png
   :width: 0.3937in
   :height: 0.41082in
.. |image16| image:: ./conductor/image42.png
   :width: 0.3937in
   :height: 0.40276in
.. |image17| image:: ./conductor/image43.png
   :width: 0.37391in
   :height: 0.39758in
.. |image18| image:: ./conductor/image44.png
   :width: 0.3937in
   :height: 0.40298in
.. |image19| image:: ./conductor/image48.png
   :width: 5.50714in
   :height: 7.70067in
.. |image20| image:: ./conductor/image48.png
   :width: 5.50714in
   :height: 7.70067in
